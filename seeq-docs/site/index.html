
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>ITV Asset Tree Docs</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.2afb09e1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#itv-asset-tree-module-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="ITV Asset Tree Docs" class="md-header__button md-logo" aria-label="ITV Asset Tree Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ITV Asset Tree Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ITV Asset Tree – Module Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="ITV Asset Tree Docs" class="md-nav__button md-logo" aria-label="ITV Asset Tree Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ITV Asset Tree Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    ITV Asset Tree – Module Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    ITV Asset Tree – Module Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api" class="md-nav__link">
    <span class="md-ellipsis">
      api
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.InsertItemRequest" class="md-nav__link">
    <span class="md-ellipsis">
      InsertItemRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.ItemDefinition" class="md-nav__link">
    <span class="md-ellipsis">
      ItemDefinition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.ModifyRequest" class="md-nav__link">
    <span class="md-ellipsis">
      ModifyRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.MoveRequest" class="md-nav__link">
    <span class="md-ellipsis">
      MoveRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.RemoveRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.archive_tree" class="md-nav__link">
    <span class="md-ellipsis">
      archive_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.create_empty_tree" class="md-nav__link">
    <span class="md-ellipsis">
      create_empty_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.insert_item" class="md-nav__link">
    <span class="md-ellipsis">
      insert_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.modify_tree" class="md-nav__link">
    <span class="md-ellipsis">
      modify_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.move_item" class="md-nav__link">
    <span class="md-ellipsis">
      move_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.process_csv" class="md-nav__link">
    <span class="md-ellipsis">
      process_csv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.push_tree" class="md-nav__link">
    <span class="md-ellipsis">
      push_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.search_tree" class="md-nav__link">
    <span class="md-ellipsis">
      search_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.serve_frontend" class="md-nav__link">
    <span class="md-ellipsis">
      serve_frontend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.upload_csv" class="md-nav__link">
    <span class="md-ellipsis">
      upload_csv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.visualize_tree" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.app" class="md-nav__link">
    <span class="md-ellipsis">
      app
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.app.log_requests" class="md-nav__link">
    <span class="md-ellipsis">
      log_requests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.app.startup_event" class="md-nav__link">
    <span class="md-ellipsis">
      startup_event
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator" class="md-nav__link">
    <span class="md-ellipsis">
      csv_lookup_generator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.GenerateLookupRequest" class="md-nav__link">
    <span class="md-ellipsis">
      GenerateLookupRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.GetDuplicatesRequest" class="md-nav__link">
    <span class="md-ellipsis">
      GetDuplicatesRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.PushLookupRequest" class="md-nav__link">
    <span class="md-ellipsis">
      PushLookupRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.ResolveDuplicatesRequest" class="md-nav__link">
    <span class="md-ellipsis">
      ResolveDuplicatesRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.SetParentPathsRequest" class="md-nav__link">
    <span class="md-ellipsis">
      SetParentPathsRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.UploadRawCsvRequest" class="md-nav__link">
    <span class="md-ellipsis">
      UploadRawCsvRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.generate_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      generate_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.get_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      get_duplicates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.get_lookup_names" class="md-nav__link">
    <span class="md-ellipsis">
      get_lookup_names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.push_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      push_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.resolve_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_duplicates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.set_parent_paths" class="md-nav__link">
    <span class="md-ellipsis">
      set_parent_paths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.upload_raw_csv" class="md-nav__link">
    <span class="md-ellipsis">
      upload_raw_csv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.dependencies.get_db" class="md-nav__link">
    <span class="md-ellipsis">
      get_db
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.models.BuildRequest" class="md-nav__link">
    <span class="md-ellipsis">
      BuildRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.startup_handler" class="md-nav__link">
    <span class="md-ellipsis">
      startup_handler
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.startup_handler.connect_to_seeq" class="md-nav__link">
    <span class="md-ellipsis">
      connect_to_seeq
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.startup_handler.ensure_user_config" class="md-nav__link">
    <span class="md-ellipsis">
      ensure_user_config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.template_discovery" class="md-nav__link">
    <span class="md-ellipsis">
      template_discovery
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.template_discovery.TemplateListResponse" class="md-nav__link">
    <span class="md-ellipsis">
      TemplateListResponse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.template_discovery.get_templates" class="md-nav__link">
    <span class="md-ellipsis">
      get_templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates" class="md-nav__link">
    <span class="md-ellipsis">
      templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.build_template_endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      build_template_endpoint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.extract_asset_name" class="md-nav__link">
    <span class="md-ellipsis">
      extract_asset_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.fetch_base_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_base_metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.fetch_existing_tree" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_existing_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.fetch_signals" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_signals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.get_hierarchical_templates" class="md-nav__link">
    <span class="md-ellipsis">
      get_hierarchical_templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.get_template_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      get_template_parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.visualize_template" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.config.settings" class="md-nav__link">
    <span class="md-ellipsis">
      settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.config.settings.Settings" class="md-nav__link">
    <span class="md-ellipsis">
      Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.config_loader" class="md-nav__link">
    <span class="md-ellipsis">
      config_loader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.config_loader.get_config_value" class="md-nav__link">
    <span class="md-ellipsis">
      get_config_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.config_loader.load_config" class="md-nav__link">
    <span class="md-ellipsis">
      load_config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.csv_parser" class="md-nav__link">
    <span class="md-ellipsis">
      csv_parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.csv_parser.CSVParser" class="md-nav__link">
    <span class="md-ellipsis">
      CSVParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSVParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.csv_parser.CSVParser.parse_csv" class="md-nav__link">
    <span class="md-ellipsis">
      parse_csv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      interfaces
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeArchive" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeArchive
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeArchive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeArchive.archive" class="md-nav__link">
    <span class="md-ellipsis">
      archive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeInsert" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeInsert
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeInsert">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeInsert.insert_item" class="md-nav__link">
    <span class="md-ellipsis">
      insert_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeMove" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeMove
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeMove">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeMove.move_item" class="md-nav__link">
    <span class="md-ellipsis">
      move_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeRemove" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeRemove
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeRemove">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeRemove.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager" class="md-nav__link">
    <span class="md-ellipsis">
      push_manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager.PushManager" class="md-nav__link">
    <span class="md-ellipsis">
      PushManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PushManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager.PushManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager.PushManager.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies" class="md-nav__link">
    <span class="md-ellipsis">
      push_strategies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush" class="md-nav__link">
    <span class="md-ellipsis">
      BatchPush
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BatchPush">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.clear_batch" class="md-nav__link">
    <span class="md-ellipsis">
      clear_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.commit" class="md-nav__link">
    <span class="md-ellipsis">
      commit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.DryRunPush" class="md-nav__link">
    <span class="md-ellipsis">
      DryRunPush
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DryRunPush">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.DryRunPush.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.ImmediatePush" class="md-nav__link">
    <span class="md-ellipsis">
      ImmediatePush
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImmediatePush">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.ImmediatePush.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.PushStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      PushStrategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PushStrategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.PushStrategy.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter" class="md-nav__link">
    <span class="md-ellipsis">
      seeq_adapter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter" class="md-nav__link">
    <span class="md-ellipsis">
      SeeqAdapter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SeeqAdapter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.login" class="md-nav__link">
    <span class="md-ellipsis">
      login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.search" class="md-nav__link">
    <span class="md-ellipsis">
      search
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter" class="md-nav__link">
    <span class="md-ellipsis">
      SeeqSpyAdapter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SeeqSpyAdapter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.build_and_push" class="md-nav__link">
    <span class="md-ellipsis">
      build_and_push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.login" class="md-nav__link">
    <span class="md-ellipsis">
      login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search" class="md-nav__link">
    <span class="md-ellipsis">
      search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_in_tree" class="md-nav__link">
    <span class="md-ellipsis">
      search_in_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_signals" class="md-nav__link">
    <span class="md-ellipsis">
      search_signals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver" class="md-nav__link">
    <span class="md-ellipsis">
      tree_archiver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver.TreeArchiver" class="md-nav__link">
    <span class="md-ellipsis">
      TreeArchiver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeArchiver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver.TreeArchiver.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver.TreeArchiver.archive" class="md-nav__link">
    <span class="md-ellipsis">
      archive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder" class="md-nav__link">
    <span class="md-ellipsis">
      tree_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      TreeBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.build_empty_tree" class="md-nav__link">
    <span class="md-ellipsis">
      build_empty_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.build_tree_from_csv" class="md-nav__link">
    <span class="md-ellipsis">
      build_tree_from_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.get_push_manager" class="md-nav__link">
    <span class="md-ellipsis">
      get_push_manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.parse_csv" class="md-nav__link">
    <span class="md-ellipsis">
      parse_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.visualize_tree" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader" class="md-nav__link">
    <span class="md-ellipsis">
      tree_loader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader.TreeLoader" class="md-nav__link">
    <span class="md-ellipsis">
      TreeLoader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeLoader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader.TreeLoader.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader.TreeLoader.load_tree" class="md-nav__link">
    <span class="md-ellipsis">
      load_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager" class="md-nav__link">
    <span class="md-ellipsis">
      tree_manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager" class="md-nav__link">
    <span class="md-ellipsis">
      TreeManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager.build_tree" class="md-nav__link">
    <span class="md-ellipsis">
      build_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager.clear_existing_tree" class="md-nav__link">
    <span class="md-ellipsis">
      clear_existing_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier_factory" class="md-nav__link">
    <span class="md-ellipsis">
      tree_modifier_factory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory" class="md-nav__link">
    <span class="md-ellipsis">
      TreeModifierFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeModifierFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier" class="md-nav__link">
    <span class="md-ellipsis">
      tree_modifier
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier" class="md-nav__link">
    <span class="md-ellipsis">
      TreeModifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeModifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.archive_tree" class="md-nav__link">
    <span class="md-ellipsis">
      archive_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.insert_item" class="md-nav__link">
    <span class="md-ellipsis">
      insert_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.move_item" class="md-nav__link">
    <span class="md-ellipsis">
      move_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.save_changes" class="md-nav__link">
    <span class="md-ellipsis">
      save_changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.visualize_tree" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager" class="md-nav__link">
    <span class="md-ellipsis">
      tree_property_manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager" class="md-nav__link">
    <span class="md-ellipsis">
      TreePropertyManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreePropertyManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager.apply_properties" class="md-nav__link">
    <span class="md-ellipsis">
      apply_properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      tree_visualizer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer" class="md-nav__link">
    <span class="md-ellipsis">
      TreeVisualizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeVisualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer.get_tree_visualization" class="md-nav__link">
    <span class="md-ellipsis">
      get_tree_visualization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.csv_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      csv_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.csv_lookup.CSVLookupRequest" class="md-nav__link">
    <span class="md-ellipsis">
      CSVLookupRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.csv_lookup.CSVLookupResponse" class="md-nav__link">
    <span class="md-ellipsis">
      CSVLookupResponse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.tree.TreeCreateRequest" class="md-nav__link">
    <span class="md-ellipsis">
      TreeCreateRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template" class="md-nav__link">
    <span class="md-ellipsis">
      hvac_template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compressor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor.High_Power" class="md-nav__link">
    <span class="md-ellipsis">
      High_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor.Other_Compressors_Are_High_Power" class="md-nav__link">
    <span class="md-ellipsis">
      Other_Compressors_Are_High_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor.Power" class="md-nav__link">
    <span class="md-ellipsis">
      Power
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Facility" class="md-nav__link">
    <span class="md-ellipsis">
      Facility
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Facility">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Facility.Sections" class="md-nav__link">
    <span class="md-ellipsis">
      Sections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator" class="md-nav__link">
    <span class="md-ellipsis">
      Refrigerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refrigerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_High_Power" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor_High_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_Power_Max" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor_Power_Max
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressors" class="md-nav__link">
    <span class="md-ellipsis">
      Compressors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Temperature" class="md-nav__link">
    <span class="md-ellipsis">
      Temperature
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region" class="md-nav__link">
    <span class="md-ellipsis">
      Region
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Region">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region.Facilities" class="md-nav__link">
    <span class="md-ellipsis">
      Facilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region.get_build_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_build_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region.get_hierarchy_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_hierarchy_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section" class="md-nav__link">
    <span class="md-ellipsis">
      Section
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Compressor_Power" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Compressors" class="md-nav__link">
    <span class="md-ellipsis">
      Compressors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Hot_Threshold" class="md-nav__link">
    <span class="md-ellipsis">
      Hot_Threshold
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Condition_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Condition_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Continuous_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Continuous_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Lower_Bound" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Lower_Bound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Simple_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Simple_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Statistic_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Statistic_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Upper_Bound" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Upper_Bound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Refrigerators" class="md-nav__link">
    <span class="md-ellipsis">
      Refrigerators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Temperature" class="md-nav__link">
    <span class="md-ellipsis">
      Temperature
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Temperature_Rate_Of_Change" class="md-nav__link">
    <span class="md-ellipsis">
      Temperature_Rate_Of_Change
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Too_Hot" class="md-nav__link">
    <span class="md-ellipsis">
      Too_Hot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Too_Humid" class="md-nav__link">
    <span class="md-ellipsis">
      Too_Humid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template" class="md-nav__link">
    <span class="md-ellipsis">
      valve_template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Compressor" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Facility" class="md-nav__link">
    <span class="md-ellipsis">
      Facility
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Feed" class="md-nav__link">
    <span class="md-ellipsis">
      Feed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.General" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Product" class="md-nav__link">
    <span class="md-ellipsis">
      Product
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Purge" class="md-nav__link">
    <span class="md-ellipsis">
      Purge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Reactor" class="md-nav__link">
    <span class="md-ellipsis">
      Reactor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Region" class="md-nav__link">
    <span class="md-ellipsis">
      Region
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Region">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Region.get_build_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_build_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Section" class="md-nav__link">
    <span class="md-ellipsis">
      Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Separator" class="md-nav__link">
    <span class="md-ellipsis">
      Separator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Stripper" class="md-nav__link">
    <span class="md-ellipsis">
      Stripper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Valve" class="md-nav__link">
    <span class="md-ellipsis">
      Valve
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.cleaning" class="md-nav__link">
    <span class="md-ellipsis">
      cleaning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.cleaning.clean_signal_leaf_name" class="md-nav__link">
    <span class="md-ellipsis">
      clean_signal_leaf_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.cleaning.extract_component_column" class="md-nav__link">
    <span class="md-ellipsis">
      extract_component_column
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser" class="md-nav__link">
    <span class="md-ellipsis">
      csv_parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser.CSVHandler" class="md-nav__link">
    <span class="md-ellipsis">
      CSVHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSVHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser.CSVHandler.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser.CSVHandler.load_csv" class="md-nav__link">
    <span class="md-ellipsis">
      load_csv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution" class="md-nav__link">
    <span class="md-ellipsis">
      duplicate_resolution
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver" class="md-nav__link">
    <span class="md-ellipsis">
      DuplicateResolver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuplicateResolver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.resolve_group" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_group
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      DuplicateStrategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuplicateStrategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy.resolve" class="md-nav__link">
    <span class="md-ellipsis">
      resolve
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.KeepFirstStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      KeepFirstStrategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.KeepLastStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      KeepLastStrategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.RemoveAllStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveAllStrategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      UserSpecificStrategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UserSpecificStrategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.error_handling" class="md-nav__link">
    <span class="md-ellipsis">
      error_handling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.json_utils" class="md-nav__link">
    <span class="md-ellipsis">
      json_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger" class="md-nav__link">
    <span class="md-ellipsis">
      logger
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_debug" class="md-nav__link">
    <span class="md-ellipsis">
      log_debug
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_error" class="md-nav__link">
    <span class="md-ellipsis">
      log_error
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_info" class="md-nav__link">
    <span class="md-ellipsis">
      log_info
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_warning" class="md-nav__link">
    <span class="md-ellipsis">
      log_warning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder" class="md-nav__link">
    <span class="md-ellipsis">
      lookup_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      LookupTableBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LookupTableBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.build" class="md-nav__link">
    <span class="md-ellipsis">
      build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.save_lookup_to_csv" class="md-nav__link">
    <span class="md-ellipsis">
      save_lookup_to_csv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.metadata_handler" class="md-nav__link">
    <span class="md-ellipsis">
      metadata_handler
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.metadata_handler.load_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      load_metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.metadata_handler.save_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      save_metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.retry" class="md-nav__link">
    <span class="md-ellipsis">
      retry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.template_builder" class="md-nav__link">
    <span class="md-ellipsis">
      template_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.template_builder.build_template" class="md-nav__link">
    <span class="md-ellipsis">
      build_template
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api" class="md-nav__link">
    <span class="md-ellipsis">
      api
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.InsertItemRequest" class="md-nav__link">
    <span class="md-ellipsis">
      InsertItemRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.ItemDefinition" class="md-nav__link">
    <span class="md-ellipsis">
      ItemDefinition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.ModifyRequest" class="md-nav__link">
    <span class="md-ellipsis">
      ModifyRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.MoveRequest" class="md-nav__link">
    <span class="md-ellipsis">
      MoveRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.RemoveRequest" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.archive_tree" class="md-nav__link">
    <span class="md-ellipsis">
      archive_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.create_empty_tree" class="md-nav__link">
    <span class="md-ellipsis">
      create_empty_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.insert_item" class="md-nav__link">
    <span class="md-ellipsis">
      insert_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.modify_tree" class="md-nav__link">
    <span class="md-ellipsis">
      modify_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.move_item" class="md-nav__link">
    <span class="md-ellipsis">
      move_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.process_csv" class="md-nav__link">
    <span class="md-ellipsis">
      process_csv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.push_tree" class="md-nav__link">
    <span class="md-ellipsis">
      push_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.search_tree" class="md-nav__link">
    <span class="md-ellipsis">
      search_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.serve_frontend" class="md-nav__link">
    <span class="md-ellipsis">
      serve_frontend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.upload_csv" class="md-nav__link">
    <span class="md-ellipsis">
      upload_csv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.api.visualize_tree" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.app" class="md-nav__link">
    <span class="md-ellipsis">
      app
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.app.log_requests" class="md-nav__link">
    <span class="md-ellipsis">
      log_requests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.app.startup_event" class="md-nav__link">
    <span class="md-ellipsis">
      startup_event
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator" class="md-nav__link">
    <span class="md-ellipsis">
      csv_lookup_generator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.GenerateLookupRequest" class="md-nav__link">
    <span class="md-ellipsis">
      GenerateLookupRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.GetDuplicatesRequest" class="md-nav__link">
    <span class="md-ellipsis">
      GetDuplicatesRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.PushLookupRequest" class="md-nav__link">
    <span class="md-ellipsis">
      PushLookupRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.ResolveDuplicatesRequest" class="md-nav__link">
    <span class="md-ellipsis">
      ResolveDuplicatesRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.SetParentPathsRequest" class="md-nav__link">
    <span class="md-ellipsis">
      SetParentPathsRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.UploadRawCsvRequest" class="md-nav__link">
    <span class="md-ellipsis">
      UploadRawCsvRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.generate_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      generate_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.get_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      get_duplicates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.get_lookup_names" class="md-nav__link">
    <span class="md-ellipsis">
      get_lookup_names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.push_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      push_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.resolve_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_duplicates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.set_parent_paths" class="md-nav__link">
    <span class="md-ellipsis">
      set_parent_paths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.csv_lookup_generator.upload_raw_csv" class="md-nav__link">
    <span class="md-ellipsis">
      upload_raw_csv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.dependencies.get_db" class="md-nav__link">
    <span class="md-ellipsis">
      get_db
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.models.BuildRequest" class="md-nav__link">
    <span class="md-ellipsis">
      BuildRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.startup_handler" class="md-nav__link">
    <span class="md-ellipsis">
      startup_handler
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.startup_handler.connect_to_seeq" class="md-nav__link">
    <span class="md-ellipsis">
      connect_to_seeq
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.startup_handler.ensure_user_config" class="md-nav__link">
    <span class="md-ellipsis">
      ensure_user_config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.template_discovery" class="md-nav__link">
    <span class="md-ellipsis">
      template_discovery
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.template_discovery.TemplateListResponse" class="md-nav__link">
    <span class="md-ellipsis">
      TemplateListResponse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.template_discovery.get_templates" class="md-nav__link">
    <span class="md-ellipsis">
      get_templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates" class="md-nav__link">
    <span class="md-ellipsis">
      templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.build_template_endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      build_template_endpoint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.extract_asset_name" class="md-nav__link">
    <span class="md-ellipsis">
      extract_asset_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.fetch_base_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_base_metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.fetch_existing_tree" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_existing_tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.fetch_signals" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_signals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.get_hierarchical_templates" class="md-nav__link">
    <span class="md-ellipsis">
      get_hierarchical_templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.get_template_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      get_template_parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.api.templates.visualize_template" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.config.settings" class="md-nav__link">
    <span class="md-ellipsis">
      settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.config.settings.Settings" class="md-nav__link">
    <span class="md-ellipsis">
      Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.config_loader" class="md-nav__link">
    <span class="md-ellipsis">
      config_loader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.config_loader.get_config_value" class="md-nav__link">
    <span class="md-ellipsis">
      get_config_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.config_loader.load_config" class="md-nav__link">
    <span class="md-ellipsis">
      load_config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.csv_parser" class="md-nav__link">
    <span class="md-ellipsis">
      csv_parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.csv_parser.CSVParser" class="md-nav__link">
    <span class="md-ellipsis">
      CSVParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSVParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.csv_parser.CSVParser.parse_csv" class="md-nav__link">
    <span class="md-ellipsis">
      parse_csv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      interfaces
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeArchive" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeArchive
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeArchive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeArchive.archive" class="md-nav__link">
    <span class="md-ellipsis">
      archive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeInsert" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeInsert
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeInsert">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeInsert.insert_item" class="md-nav__link">
    <span class="md-ellipsis">
      insert_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeMove" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeMove
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeMove">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeMove.move_item" class="md-nav__link">
    <span class="md-ellipsis">
      move_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeRemove" class="md-nav__link">
    <span class="md-ellipsis">
      ITreeRemove
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ITreeRemove">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.interfaces.ITreeRemove.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager" class="md-nav__link">
    <span class="md-ellipsis">
      push_manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager.PushManager" class="md-nav__link">
    <span class="md-ellipsis">
      PushManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PushManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager.PushManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_manager.PushManager.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies" class="md-nav__link">
    <span class="md-ellipsis">
      push_strategies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush" class="md-nav__link">
    <span class="md-ellipsis">
      BatchPush
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BatchPush">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.clear_batch" class="md-nav__link">
    <span class="md-ellipsis">
      clear_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.commit" class="md-nav__link">
    <span class="md-ellipsis">
      commit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.BatchPush.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.DryRunPush" class="md-nav__link">
    <span class="md-ellipsis">
      DryRunPush
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DryRunPush">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.DryRunPush.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.ImmediatePush" class="md-nav__link">
    <span class="md-ellipsis">
      ImmediatePush
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImmediatePush">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.ImmediatePush.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.PushStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      PushStrategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PushStrategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.push_strategies.PushStrategy.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter" class="md-nav__link">
    <span class="md-ellipsis">
      seeq_adapter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter" class="md-nav__link">
    <span class="md-ellipsis">
      SeeqAdapter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SeeqAdapter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.login" class="md-nav__link">
    <span class="md-ellipsis">
      login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.search" class="md-nav__link">
    <span class="md-ellipsis">
      search
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter" class="md-nav__link">
    <span class="md-ellipsis">
      SeeqSpyAdapter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SeeqSpyAdapter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.build_and_push" class="md-nav__link">
    <span class="md-ellipsis">
      build_and_push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.login" class="md-nav__link">
    <span class="md-ellipsis">
      login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.push" class="md-nav__link">
    <span class="md-ellipsis">
      push
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search" class="md-nav__link">
    <span class="md-ellipsis">
      search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_in_tree" class="md-nav__link">
    <span class="md-ellipsis">
      search_in_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_signals" class="md-nav__link">
    <span class="md-ellipsis">
      search_signals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver" class="md-nav__link">
    <span class="md-ellipsis">
      tree_archiver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver.TreeArchiver" class="md-nav__link">
    <span class="md-ellipsis">
      TreeArchiver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeArchiver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver.TreeArchiver.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_archiver.TreeArchiver.archive" class="md-nav__link">
    <span class="md-ellipsis">
      archive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder" class="md-nav__link">
    <span class="md-ellipsis">
      tree_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      TreeBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.build_empty_tree" class="md-nav__link">
    <span class="md-ellipsis">
      build_empty_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.build_tree_from_csv" class="md-nav__link">
    <span class="md-ellipsis">
      build_tree_from_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.get_push_manager" class="md-nav__link">
    <span class="md-ellipsis">
      get_push_manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.parse_csv" class="md-nav__link">
    <span class="md-ellipsis">
      parse_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_builder.TreeBuilder.visualize_tree" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader" class="md-nav__link">
    <span class="md-ellipsis">
      tree_loader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader.TreeLoader" class="md-nav__link">
    <span class="md-ellipsis">
      TreeLoader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeLoader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader.TreeLoader.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_loader.TreeLoader.load_tree" class="md-nav__link">
    <span class="md-ellipsis">
      load_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager" class="md-nav__link">
    <span class="md-ellipsis">
      tree_manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager" class="md-nav__link">
    <span class="md-ellipsis">
      TreeManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager.build_tree" class="md-nav__link">
    <span class="md-ellipsis">
      build_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_manager.TreeManager.clear_existing_tree" class="md-nav__link">
    <span class="md-ellipsis">
      clear_existing_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier_factory" class="md-nav__link">
    <span class="md-ellipsis">
      tree_modifier_factory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory" class="md-nav__link">
    <span class="md-ellipsis">
      TreeModifierFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeModifierFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier" class="md-nav__link">
    <span class="md-ellipsis">
      tree_modifier
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier" class="md-nav__link">
    <span class="md-ellipsis">
      TreeModifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeModifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.archive_tree" class="md-nav__link">
    <span class="md-ellipsis">
      archive_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.insert_item" class="md-nav__link">
    <span class="md-ellipsis">
      insert_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.move_item" class="md-nav__link">
    <span class="md-ellipsis">
      move_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.save_changes" class="md-nav__link">
    <span class="md-ellipsis">
      save_changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_modifier.TreeModifier.visualize_tree" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager" class="md-nav__link">
    <span class="md-ellipsis">
      tree_property_manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager" class="md-nav__link">
    <span class="md-ellipsis">
      TreePropertyManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreePropertyManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager.apply_properties" class="md-nav__link">
    <span class="md-ellipsis">
      apply_properties
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      tree_visualizer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer" class="md-nav__link">
    <span class="md-ellipsis">
      TreeVisualizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TreeVisualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer.get_tree_visualization" class="md-nav__link">
    <span class="md-ellipsis">
      get_tree_visualization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.csv_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      csv_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.csv_lookup.CSVLookupRequest" class="md-nav__link">
    <span class="md-ellipsis">
      CSVLookupRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.csv_lookup.CSVLookupResponse" class="md-nav__link">
    <span class="md-ellipsis">
      CSVLookupResponse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.schemas.tree.TreeCreateRequest" class="md-nav__link">
    <span class="md-ellipsis">
      TreeCreateRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template" class="md-nav__link">
    <span class="md-ellipsis">
      hvac_template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compressor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor.High_Power" class="md-nav__link">
    <span class="md-ellipsis">
      High_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor.Other_Compressors_Are_High_Power" class="md-nav__link">
    <span class="md-ellipsis">
      Other_Compressors_Are_High_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Compressor.Power" class="md-nav__link">
    <span class="md-ellipsis">
      Power
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Facility" class="md-nav__link">
    <span class="md-ellipsis">
      Facility
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Facility">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Facility.Sections" class="md-nav__link">
    <span class="md-ellipsis">
      Sections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator" class="md-nav__link">
    <span class="md-ellipsis">
      Refrigerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refrigerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_High_Power" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor_High_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_Power_Max" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor_Power_Max
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressors" class="md-nav__link">
    <span class="md-ellipsis">
      Compressors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Temperature" class="md-nav__link">
    <span class="md-ellipsis">
      Temperature
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region" class="md-nav__link">
    <span class="md-ellipsis">
      Region
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Region">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region.Facilities" class="md-nav__link">
    <span class="md-ellipsis">
      Facilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region.get_build_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_build_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Region.get_hierarchy_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_hierarchy_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section" class="md-nav__link">
    <span class="md-ellipsis">
      Section
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Compressor_Power" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor_Power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Compressors" class="md-nav__link">
    <span class="md-ellipsis">
      Compressors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Hot_Threshold" class="md-nav__link">
    <span class="md-ellipsis">
      Hot_Threshold
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Condition_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Condition_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Continuous_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Continuous_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Lower_Bound" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Lower_Bound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Simple_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Simple_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Statistic_KPI" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Statistic_KPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Upper_Bound" class="md-nav__link">
    <span class="md-ellipsis">
      Humidity_Upper_Bound
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Refrigerators" class="md-nav__link">
    <span class="md-ellipsis">
      Refrigerators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Temperature" class="md-nav__link">
    <span class="md-ellipsis">
      Temperature
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Temperature_Rate_Of_Change" class="md-nav__link">
    <span class="md-ellipsis">
      Temperature_Rate_Of_Change
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Too_Hot" class="md-nav__link">
    <span class="md-ellipsis">
      Too_Hot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.hvac_template.Section.Too_Humid" class="md-nav__link">
    <span class="md-ellipsis">
      Too_Humid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template" class="md-nav__link">
    <span class="md-ellipsis">
      valve_template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Compressor" class="md-nav__link">
    <span class="md-ellipsis">
      Compressor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Facility" class="md-nav__link">
    <span class="md-ellipsis">
      Facility
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Feed" class="md-nav__link">
    <span class="md-ellipsis">
      Feed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.General" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Product" class="md-nav__link">
    <span class="md-ellipsis">
      Product
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Purge" class="md-nav__link">
    <span class="md-ellipsis">
      Purge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Reactor" class="md-nav__link">
    <span class="md-ellipsis">
      Reactor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Region" class="md-nav__link">
    <span class="md-ellipsis">
      Region
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Region">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Region.get_build_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_build_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Section" class="md-nav__link">
    <span class="md-ellipsis">
      Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Separator" class="md-nav__link">
    <span class="md-ellipsis">
      Separator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Stripper" class="md-nav__link">
    <span class="md-ellipsis">
      Stripper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.templates.valve_template.Valve" class="md-nav__link">
    <span class="md-ellipsis">
      Valve
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.cleaning" class="md-nav__link">
    <span class="md-ellipsis">
      cleaning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.cleaning.clean_signal_leaf_name" class="md-nav__link">
    <span class="md-ellipsis">
      clean_signal_leaf_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.cleaning.extract_component_column" class="md-nav__link">
    <span class="md-ellipsis">
      extract_component_column
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser" class="md-nav__link">
    <span class="md-ellipsis">
      csv_parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser.CSVHandler" class="md-nav__link">
    <span class="md-ellipsis">
      CSVHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSVHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser.CSVHandler.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.csv_parser.CSVHandler.load_csv" class="md-nav__link">
    <span class="md-ellipsis">
      load_csv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution" class="md-nav__link">
    <span class="md-ellipsis">
      duplicate_resolution
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver" class="md-nav__link">
    <span class="md-ellipsis">
      DuplicateResolver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuplicateResolver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.resolve_group" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_group
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      DuplicateStrategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuplicateStrategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy.resolve" class="md-nav__link">
    <span class="md-ellipsis">
      resolve
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.KeepFirstStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      KeepFirstStrategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.KeepLastStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      KeepLastStrategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.RemoveAllStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveAllStrategy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy" class="md-nav__link">
    <span class="md-ellipsis">
      UserSpecificStrategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UserSpecificStrategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.error_handling" class="md-nav__link">
    <span class="md-ellipsis">
      error_handling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.json_utils" class="md-nav__link">
    <span class="md-ellipsis">
      json_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger" class="md-nav__link">
    <span class="md-ellipsis">
      logger
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_debug" class="md-nav__link">
    <span class="md-ellipsis">
      log_debug
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_error" class="md-nav__link">
    <span class="md-ellipsis">
      log_error
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_info" class="md-nav__link">
    <span class="md-ellipsis">
      log_info
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.logger.log_warning" class="md-nav__link">
    <span class="md-ellipsis">
      log_warning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder" class="md-nav__link">
    <span class="md-ellipsis">
      lookup_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      LookupTableBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LookupTableBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.build" class="md-nav__link">
    <span class="md-ellipsis">
      build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.save_lookup_to_csv" class="md-nav__link">
    <span class="md-ellipsis">
      save_lookup_to_csv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.metadata_handler" class="md-nav__link">
    <span class="md-ellipsis">
      metadata_handler
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.metadata_handler.load_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      load_metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.metadata_handler.save_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      save_metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.retry" class="md-nav__link">
    <span class="md-ellipsis">
      retry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.template_builder" class="md-nav__link">
    <span class="md-ellipsis">
      template_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#itv_asset_tree.utils.template_builder.build_template" class="md-nav__link">
    <span class="md-ellipsis">
      build_template
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="itv-asset-tree-module-reference">ITV Asset Tree – Module Reference<a class="headerlink" href="#itv-asset-tree-module-reference" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.api"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.api.InsertItemRequest" class="doc doc-heading">
            <code>InsertItemRequest</code>


<a href="#itv_asset_tree.api.api.InsertItemRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Request model for inserting an item into an asset tree.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.InsertItemRequest.tree_name">tree_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the asset tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.InsertItemRequest.workbook_name">workbook_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.InsertItemRequest.parent_name">parent_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the parent node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.InsertItemRequest.item_definition">item_definition</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ItemDefinition (itv_asset_tree.api.api.ItemDefinition)" href="#itv_asset_tree.api.api.ItemDefinition">ItemDefinition</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Definition of the item to be inserted.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">InsertItemRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for inserting an item into an asset tree.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tree_name (str): The name of the asset tree.</span>
<span class="sd">        workbook_name (str): The name of the workbook containing the tree.</span>
<span class="sd">        parent_name (str): The name of the parent node.</span>
<span class="sd">        item_definition (ItemDefinition): Definition of the item to be inserted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">parent_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">item_definition</span><span class="p">:</span> <span class="n">ItemDefinition</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.api.ItemDefinition" class="doc doc-heading">
            <code>ItemDefinition</code>


<a href="#itv_asset_tree.api.api.ItemDefinition" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents an item definition within an asset tree.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ItemDefinition.Name">Name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the item.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ItemDefinition.Type">Type</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the item (e.g., Signal, Metric, Condition).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ItemDefinition.Formula">Formula</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Formula associated with the item, if applicable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ItemDefinition.FormulaParams">FormulaParams</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parameters required for formula calculation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ItemDefinition.Properties">Properties</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional properties associated with the item.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ItemDefinition</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an item definition within an asset tree.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        Name (str): The name of the item.</span>
<span class="sd">        Type (Optional[str]): The type of the item (e.g., Signal, Metric, Condition).</span>
<span class="sd">        Formula (Optional[str]): Formula associated with the item, if applicable.</span>
<span class="sd">        FormulaParams (Optional[Dict]): Parameters required for formula calculation.</span>
<span class="sd">        Properties (Optional[Dict[str, str]]): Additional properties associated with the item.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">Type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Type remains optional</span>
    <span class="n">Formula</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">FormulaParams</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">Properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.api.ModifyRequest" class="doc doc-heading">
            <code>ModifyRequest</code>


<a href="#itv_asset_tree.api.api.ModifyRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Request model for modifying an asset tree.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.tree_name">tree_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to modify.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.workbook_name">workbook_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.operation">operation</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The modification operation (insert, move, remove).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.parent_name">parent_name</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent node where the modification applies.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.item_definition">item_definition</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The definition of the item being modified.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.source_path">source_path</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source path for move operations.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.destination_path">destination_path</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The destination path for move operations.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.ModifyRequest.item_path">item_path</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path of the item being removed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ModifyRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for modifying an asset tree.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tree_name (str): The name of the tree to modify.</span>
<span class="sd">        workbook_name (str): The name of the workbook containing the tree.</span>
<span class="sd">        operation (str): The modification operation (insert, move, remove).</span>
<span class="sd">        parent_name (Optional[str]): The parent node where the modification applies.</span>
<span class="sd">        item_definition (Optional[Dict]): The definition of the item being modified.</span>
<span class="sd">        source_path (Optional[str]): The source path for move operations.</span>
<span class="sd">        destination_path (Optional[str]): The destination path for move operations.</span>
<span class="sd">        item_path (Optional[str]): The path of the item being removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">parent_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  
    <span class="n">item_definition</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">source_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  
    <span class="n">destination_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> 
    <span class="n">item_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> 
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.api.MoveRequest" class="doc doc-heading">
            <code>MoveRequest</code>


<a href="#itv_asset_tree.api.api.MoveRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ModifyRequest (itv_asset_tree.api.api.ModifyRequest)" href="#itv_asset_tree.api.api.ModifyRequest">ModifyRequest</a></code></p>


        <p>Request model for moving an item within an asset tree.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.MoveRequest.source_path">source_path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current path of the item being moved.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.MoveRequest.destination_path">destination_path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target path where the item will be moved.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MoveRequest</span><span class="p">(</span><span class="n">ModifyRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for moving an item within an asset tree.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        source_path (str): The current path of the item being moved.</span>
<span class="sd">        destination_path (str): The target path where the item will be moved.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">destination_path</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.api.RemoveRequest" class="doc doc-heading">
            <code>RemoveRequest</code>


<a href="#itv_asset_tree.api.api.RemoveRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Request model for removing an item from an asset tree.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.RemoveRequest.tree_name">tree_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree containing the item.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.RemoveRequest.workbook_name">workbook_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.api.RemoveRequest.item_path">item_path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path of the item to be removed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RemoveRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for removing an item from an asset tree.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tree_name (str): The name of the tree containing the item.</span>
<span class="sd">        workbook_name (str): The name of the workbook containing the tree.</span>
<span class="sd">        item_path (str): The path of the item to be removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">item_path</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Ensure full path is provided</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.archive_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive_tree</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.archive_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Archives an asset tree in Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="itv_asset_tree.api.api.ArchiveRequest">ArchiveRequest</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains the tree name and workbook name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating the success or failure of the archive operation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">archive_tree</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">ArchiveRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Archives an asset tree in Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (ArchiveRequest): Contains the tree name and workbook name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating the success or failure of the archive operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">archiver</span> <span class="o">=</span> <span class="n">TreeArchiver</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">workbook</span><span class="p">)</span>
        <span class="n">archiver</span><span class="o">.</span><span class="n">archive</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Tree &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; archived successfully.&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Archive operation failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.create_empty_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_empty_tree</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.create_empty_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Creates an empty asset tree and pushes it to Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing 'body' with tree_name and workbook_name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A success message and a visualization of the tree.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_empty_tree</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an empty asset tree and pushes it to Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (dict): The request containing &#39;body&#39; with tree_name and workbook_name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A success message and a visualization of the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">global</span> <span class="n">current_tree</span><span class="p">,</span> <span class="n">current_workbook_name</span><span class="p">,</span> <span class="n">current_tree_name</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">tree_name</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tree_name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">workbook_name</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workbook_name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree_name</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">workbook_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;⚠️ Tree name and workbook name are required.&quot;</span><span class="p">}</span>

        <span class="n">tree_builder</span> <span class="o">=</span> <span class="n">TreeBuilder</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>
        <span class="n">current_tree</span> <span class="o">=</span> <span class="n">tree_builder</span><span class="o">.</span><span class="n">build_empty_tree</span><span class="p">(</span><span class="n">friendly_name</span><span class="o">=</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Empty tree created&quot;</span><span class="p">)</span>

        <span class="n">current_tree</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>

        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📊 [DEBUG] Tree push succeeded.&quot;</span><span class="p">)</span>

        <span class="n">visualization</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="se">\n</span><span class="s2">|-- (empty root node)&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Empty tree &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; created and pushed successfully.&quot;</span><span class="p">,</span> <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">visualization</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to create and push empty tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.insert_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">insert_item</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.insert_item" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Inserts an item into an asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="InsertItemRequest (itv_asset_tree.api.api.InsertItemRequest)" href="#itv_asset_tree.api.api.InsertItemRequest">InsertItemRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing tree, workbook, and item details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating successful insertion.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If insertion fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">insert_item</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">InsertItemRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inserts an item into an asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (InsertItemRequest): The request containing tree, workbook, and item details.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating successful insertion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If insertion fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span><span class="p">)</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">parent_name</span>
        <span class="n">item_data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">item_definition</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">item_definition</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="n">request</span><span class="o">.</span><span class="n">item_definition</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">item_data</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">item_data</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Missing Name or Type.&quot;</span>
            <span class="p">}</span>

        <span class="n">modifier</span><span class="o">.</span><span class="n">insert_item</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">item_data</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Item &#39;</span><span class="si">{</span><span class="n">item_data</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; added under &#39;</span><span class="si">{</span><span class="n">parent</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Insert failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.modify_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">modify_tree</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.modify_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Modifies an asset tree by inserting, moving, removing, or archiving items.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing tree name, workbook name, and modification details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating the success of the operation and updated tree structure.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">modify_tree</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Modifies an asset tree by inserting, moving, removing, or archiving items.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (dict): The request containing tree name, workbook name, and modification details.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating the success of the operation and updated tree structure.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Unpack dict request to Pydantic model if needed (for Data Lab frontend compatibility)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># Some callers wrap the payload inside a &quot;body&quot; key</span>
            <span class="n">body</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">ModifyRequest</span><span class="p">(</span><span class="o">**</span><span class="n">body</span><span class="p">)</span>

        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 [DEBUG] Received Modify Request: </span><span class="si">{</span><span class="n">request</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Choose push strategy dynamically</span>
        <span class="n">push_strategy</span> <span class="o">=</span> <span class="s2">&quot;immediate&quot;</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">operation</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;insert&quot;</span><span class="p">,</span> <span class="s2">&quot;move&quot;</span><span class="p">,</span> <span class="s2">&quot;remove&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;batch&quot;</span>

        <span class="n">modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="n">push_strategy</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">operation</span> <span class="o">==</span> <span class="s2">&quot;insert&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">item_definition</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ item_definition is missing.&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">}</span>
            <span class="n">item_data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">item_definition</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">item_definition</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">else</span> <span class="n">request</span><span class="o">.</span><span class="n">item_definition</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
            <span class="n">modifier</span><span class="o">.</span><span class="n">insert_item</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span> <span class="n">item_data</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">operation</span> <span class="o">==</span> <span class="s2">&quot;move&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">request</span><span class="o">.</span><span class="n">source_path</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">request</span><span class="o">.</span><span class="n">destination_path</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Move request is missing source or destination path.&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">}</span>
            <span class="n">modifier</span><span class="o">.</span><span class="n">move_item</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">source_path</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">destination_path</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">operation</span> <span class="o">==</span> <span class="s2">&quot;remove&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">request</span><span class="o">.</span><span class="n">item_path</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Remove request is missing item_path.&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">}</span>
            <span class="n">modifier</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">item_path</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">operation</span> <span class="o">==</span> <span class="s2">&quot;archive&quot;</span><span class="p">:</span>
            <span class="n">archiver</span> <span class="o">=</span> <span class="n">TreeArchiver</span><span class="p">(</span><span class="n">tree_name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span><span class="p">)</span>
            <span class="n">archiver</span><span class="o">.</span><span class="n">archive</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Successfully performed &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">operation</span><span class="si">}</span><span class="s2">&#39; operation on tree &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">modifier</span><span class="o">.</span><span class="n">visualize_tree</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Modify operation failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Modify operation failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.move_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move_item</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.move_item" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Moves an item within an asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="MoveRequest (itv_asset_tree.api.api.MoveRequest)" href="#itv_asset_tree.api.api.MoveRequest">MoveRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing tree details and move paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating success.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If move fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">move_item</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">MoveRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Moves an item within an asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (MoveRequest): The request containing tree details and move paths.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating success.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If move fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span><span class="p">)</span>
        <span class="n">modifier</span><span class="o">.</span><span class="n">move_item</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">source_path</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">destination_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Moved item from &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">source_path</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">destination_path</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Move operation failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.process_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_csv</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.process_csv" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Processes an uploaded CSV file and builds an asset tree in Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Should contain 'body' with 'tree_name' and 'workbook_name'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Result with message and visualization.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_csv</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Processes an uploaded CSV file and builds an asset tree in Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (dict): Should contain &#39;body&#39; with &#39;tree_name&#39; and &#39;workbook_name&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Result with message and visualization.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">global</span> <span class="n">current_tree</span><span class="p">,</span> <span class="n">current_workbook_name</span><span class="p">,</span> <span class="n">current_tree_name</span>

    <span class="n">body</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">tree_name</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tree_name&quot;</span><span class="p">)</span>
    <span class="n">workbook_name</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workbook_name&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">tree_name</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">workbook_name</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;⚠️ tree_name and workbook_name are required.&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">spy</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;🔌 Attempting Seeq login...&quot;</span><span class="p">)</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">HOST</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">USERNAME</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">PASSWORD</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">uploaded_files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">uploaded_files</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s2">&quot;❌ No CSV file found in the uploaded_files directory.&quot;</span><span class="p">)</span>

        <span class="n">latest_file</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">uploaded_files</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getctime</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">,</span> <span class="n">f</span><span class="p">)))</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">,</span> <span class="n">latest_file</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;Level 1&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;⚠️ CSV must contain a &#39;Level 1&#39; column.&quot;</span><span class="p">)</span>

        <span class="n">current_tree_name</span> <span class="o">=</span> <span class="n">tree_name</span>
        <span class="n">current_workbook_name</span> <span class="o">=</span> <span class="n">workbook_name</span>

        <span class="n">builder</span> <span class="o">=</span> <span class="n">TreeBuilder</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">current_workbook_name</span><span class="p">,</span> <span class="n">csv_file</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">builder</span><span class="o">.</span><span class="n">parse_csv</span><span class="p">()</span>
        <span class="n">builder</span><span class="o">.</span><span class="n">build_tree_from_csv</span><span class="p">(</span><span class="n">friendly_name</span><span class="o">=</span><span class="n">current_tree_name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;🌳 Tree built from CSV&quot;</span><span class="p">)</span>

        <span class="n">current_tree</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="n">tree</span>
        <span class="n">builder</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>

        <span class="n">visualize_output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualize_output</span><span class="p">):</span>
            <span class="n">builder</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ CSV processed and tree &#39;</span><span class="si">{</span><span class="n">current_tree_name</span><span class="si">}</span><span class="s2">&#39; pushed successfully.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">builder</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span>
            <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">visualize_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to process and push CSV: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.push_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.push_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Pushes an existing asset tree to Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to push.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating success.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If pushing fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes an existing asset tree to Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_name (str): The name of the tree to push.</span>
<span class="sd">        workbook_name (str): The workbook containing the tree.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating success.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If pushing fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tree_modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">tree_name</span><span class="o">=</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span><span class="p">)</span>
        <span class="n">tree_modifier</span><span class="o">.</span><span class="n">push_tree</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Tree &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; successfully pushed!&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to push tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.remove_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_item</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.remove_item" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Removes an item from an asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="RemoveRequest (itv_asset_tree.api.api.RemoveRequest)" href="#itv_asset_tree.api.api.RemoveRequest">RemoveRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing tree name, workbook, and item path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating success.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If removal fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_item</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">RemoveRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes an item from an asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (RemoveRequest): The request containing tree name, workbook, and item path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating success.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If removal fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 [DEBUG] Removing item at path: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">item_path</span><span class="si">}</span><span class="s2"> in tree &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="n">modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;immediate&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">modifier</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [DEBUG] Tree &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Tree &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span>
            <span class="p">}</span>

        <span class="n">modifier</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">item_path</span><span class="p">)</span>

        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] Successfully removed: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">item_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Removed item &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">item_path</span><span class="si">}</span><span class="s2">&#39; from the tree.&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Remove operation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Remove operation failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.search_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.search_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Searches for an existing asset tree in Seeq and retrieves its visualization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to search for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains the tree structure visualization.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree is not found or visualization fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">search_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Searches for an existing asset tree in Seeq and retrieves its visualization.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_name (str): The name of the tree to search for.</span>
<span class="sd">        workbook_name (str): The name of the workbook containing the tree.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains the tree structure visualization.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the tree is not found or visualization fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [DEBUG] Searching for tree &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; in workbook &#39;</span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="c1"># Ensure `strategy=None` to prevent push behavior</span>
        <span class="n">tree_modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">tree_name</span><span class="o">=</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree_modifier</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Tree &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found in workbook &#39;</span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">}</span>

        <span class="c1"># Fetch visualization and ensure it&#39;s valid</span>
        <span class="n">visualization</span> <span class="o">=</span> <span class="n">tree_modifier</span><span class="o">.</span><span class="n">visualize_tree</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">visualization</span> <span class="ow">or</span> <span class="n">visualization</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">visualization</span> <span class="o">=</span> <span class="s2">&quot;⚠️ No tree structure available.&quot;</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">visualization</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to search and visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to search and visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.serve_frontend" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serve_frontend</span><span class="p">()</span></code>

<a href="#itv_asset_tree.api.api.serve_frontend" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Serves the frontend <code>index.html</code> file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>FileResponse</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The requested <code>index.html</code> file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the file does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">serve_frontend</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Serves the frontend `index.html` file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        FileResponse: The requested `index.html` file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">index_html_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">frontend_dir</span><span class="p">,</span> <span class="s2">&quot;templates&quot;</span><span class="p">,</span> <span class="s2">&quot;index.html&quot;</span><span class="p">)</span>

    <span class="c1"># Debugging output</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [DEBUG] Expected path for index.html: </span><span class="si">{</span><span class="n">index_html_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">index_html_path</span><span class="p">):</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] File not found at: </span><span class="si">{</span><span class="n">index_html_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ File not found: </span><span class="si">{</span><span class="n">index_html_path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>

    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] index.html found, serving...&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FileResponse</span><span class="p">(</span><span class="n">index_html_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.upload_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">upload_csv</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.upload_csv" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Uploads a CSV file and reads its columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains the 'body' with the uploaded file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains the filename and extracted columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">upload_csv</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Uploads a CSV file and reads its columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (dict): Contains the &#39;body&#39; with the uploaded file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains the filename and extracted columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">file</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;⚠️ No file uploaded in request.&quot;</span><span class="p">}</span>

    <span class="n">file_location</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;/tmp&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_location</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>  <span class="c1"># file.file is a SpooledTemporaryFile</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_location</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">file</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;detail&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to upload file: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.api.visualize_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">visualize_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.api.visualize_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Fetches the latest visualization of an asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to visualize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree structure visualization.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree is not found or visualization fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/api.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">visualize_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches the latest visualization of an asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_name (str): The name of the tree to visualize.</span>
<span class="sd">        workbook_name (str): The workbook containing the tree.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The tree structure visualization.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the tree is not found or visualization fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [DEBUG] Received visualization request for Tree: </span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">, Workbook: </span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Fix: Use `strategy=None` instead of `operation`</span>
        <span class="n">tree_modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">tree_name</span><span class="o">=</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree_modifier</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Tree &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found in workbook &#39;</span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">}</span>

        <span class="c1"># Visualize the tree structure</span>
        <span class="n">visualization</span> <span class="o">=</span> <span class="n">tree_modifier</span><span class="o">.</span><span class="n">visualize_tree</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">visualization</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.app"></a>
    <div class="doc doc-contents first">

        <p>This module defines the FastAPI application for the ITV Asset Tree API.</p>
<p>It includes startup logic, middleware for logging requests, and dynamically loads
all route modules from the <code>api/routes</code> directory.</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.app.log_requests" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_requests</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">call_next</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#itv_asset_tree.api.app.log_requests" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Middleware to log incoming HTTP requests and their responses.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="fastapi.Request">Request</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The incoming HTTP request object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>call_next</code>
            </td>
            <td>
                  <code><span title="Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The next request handler in the chain.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Response</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The processed HTTP response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/app.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">middleware</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">log_requests</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span> <span class="n">call_next</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Middleware to log incoming HTTP requests and their responses.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (Request): The incoming HTTP request object.</span>
<span class="sd">        call_next (Callable): The next request handler in the chain.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Response: The processed HTTP response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📥 Incoming request: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">call_next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📤 Response status: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.app.startup_event" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">startup_event</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#itv_asset_tree.api.app.startup_event" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Handles FastAPI startup event to establish a connection to Seeq.</p>
<p>This function is executed when FastAPI starts to ensure that the API
is logged into Seeq before handling any requests.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/app.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;startup&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">startup_event</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles FastAPI startup event to establish a connection to Seeq.</span>

<span class="sd">    This function is executed when FastAPI starts to ensure that the API</span>
<span class="sd">    is logged into Seeq before handling any requests.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;🚀 FastAPI startup initiated...&quot;</span><span class="p">)</span>
    <span class="n">connect_to_seeq</span><span class="p">()</span>  <span class="c1"># Connect to Seeq on startup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.csv_lookup_generator"></a>
    <div class="doc doc-contents first">

        <p>Module providing functions and request models for uploading CSVs, detecting and resolving duplicates,
generating lookup strings, setting parent paths, and pushing lookup tables into Seeq.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.csv_lookup_generator.GenerateLookupRequest" class="doc doc-heading">
            <code>GenerateLookupRequest</code>


<a href="#itv_asset_tree.api.csv_lookup_generator.GenerateLookupRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines metadata to generate lookup tables from CSVs.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GenerateLookupRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines metadata to generate lookup tables from CSVs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">group_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">key_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">output_file</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_base64</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.csv_lookup_generator.GetDuplicatesRequest" class="doc doc-heading">
            <code>GetDuplicatesRequest</code>


<a href="#itv_asset_tree.api.csv_lookup_generator.GetDuplicatesRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Contains metadata for detecting duplicates in uploaded CSVs.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GetDuplicatesRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains metadata for detecting duplicates in uploaded CSVs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_base64</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">group_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">key_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_column</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.csv_lookup_generator.PushLookupRequest" class="doc doc-heading">
            <code>PushLookupRequest</code>


<a href="#itv_asset_tree.api.csv_lookup_generator.PushLookupRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Request model for pushing a lookup into Seeq.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.csv_lookup_generator.PushLookupRequest.tree_name">tree_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the asset tree.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.csv_lookup_generator.PushLookupRequest.workbook_name">workbook_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the Seeq workbook.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.csv_lookup_generator.PushLookupRequest.content_base64">content_base64</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The base64-encoded CSV content representing the lookup.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PushLookupRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for pushing a lookup into Seeq.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tree_name (str): The name of the asset tree.</span>
<span class="sd">        workbook_name (str): The name of the Seeq workbook.</span>
<span class="sd">        content_base64 (str): The base64-encoded CSV content representing the lookup.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.csv_lookup_generator.ResolveDuplicatesRequest" class="doc doc-heading">
            <code>ResolveDuplicatesRequest</code>


<a href="#itv_asset_tree.api.csv_lookup_generator.ResolveDuplicatesRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Used to identify and remove duplicate rows from CSVs.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ResolveDuplicatesRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to identify and remove duplicate rows from CSVs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_base64</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">group_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">key_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">rows_to_remove</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.csv_lookup_generator.SetParentPathsRequest" class="doc doc-heading">
            <code>SetParentPathsRequest</code>


<a href="#itv_asset_tree.api.csv_lookup_generator.SetParentPathsRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Request model for assigning parent paths to lookup strings.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SetParentPathsRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for assigning parent paths to lookup strings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parent_paths</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="n">group_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">key_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_base64</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># ✅ Missing before — must include this!</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.csv_lookup_generator.UploadRawCsvRequest" class="doc doc-heading">
            <code>UploadRawCsvRequest</code>


<a href="#itv_asset_tree.api.csv_lookup_generator.UploadRawCsvRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Holds the filename and base64-encoded content for a CSV upload.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UploadRawCsvRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Holds the filename and base64-encoded content for a CSV upload.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_base64</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.generate_lookup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_lookup</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.generate_lookup" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Generates lookup strings from a base64-encoded CSV and saves the lookup output.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="GenerateLookupRequest (itv_asset_tree.api.csv_lookup_generator.GenerateLookupRequest)" href="#itv_asset_tree.api.csv_lookup_generator.GenerateLookupRequest">GenerateLookupRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains group_column, key_column, value_column,
output_file name, and base64-encoded CSV content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains a message, the output filename, and base64-encoded content of the lookup output CSV.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_lookup</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">GenerateLookupRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates lookup strings from a base64-encoded CSV and saves the lookup output.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (GenerateLookupRequest): Contains group_column, key_column, value_column,</span>
<span class="sd">            output_file name, and base64-encoded CSV content.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains a message, the output filename, and base64-encoded content of the lookup output CSV.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">content_base64</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">decoded</span><span class="p">))</span>

        <span class="n">lookup_builder</span> <span class="o">=</span> <span class="n">LookupTableBuilder</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">value_column</span><span class="p">)</span>
        <span class="n">lookup_data</span> <span class="o">=</span> <span class="n">lookup_builder</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

        <span class="n">parent_paths</span> <span class="o">=</span> <span class="p">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">_LookupString&quot;</span><span class="p">:</span> <span class="s2">&quot;Set Parent Path&quot;</span> <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">lookup_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>
        <span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">,</span> <span class="s2">&quot;lookup_output.csv&quot;</span><span class="p">)</span>
        <span class="n">lookup_builder</span><span class="o">.</span><span class="n">save_lookup_to_csv</span><span class="p">(</span><span class="n">lookup_data</span><span class="p">,</span> <span class="n">parent_paths</span><span class="p">,</span> <span class="n">output_path</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">generated_base64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Lookup file &#39;lookup_output.csv&#39; created.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;output_file&quot;</span><span class="p">:</span> <span class="s2">&quot;lookup_output.csv&quot;</span><span class="p">,</span>
            <span class="s2">&quot;content_base64&quot;</span><span class="p">:</span> <span class="n">generated_base64</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Error generating lookup: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;output_file&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.get_duplicates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_duplicates</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.get_duplicates" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Finds duplicate rows in a CSV based on specified grouping and key columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="GetDuplicatesRequest (itv_asset_tree.api.csv_lookup_generator.GetDuplicatesRequest)" href="#itv_asset_tree.api.csv_lookup_generator.GetDuplicatesRequest">GetDuplicatesRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains filename, base64 CSV content, 
group_column, key_column, and value_column to identify duplicates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains a message about the operation and a list of duplicate rows if any.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_duplicates</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">GetDuplicatesRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Finds duplicate rows in a CSV based on specified grouping and key columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (GetDuplicatesRequest): Contains filename, base64 CSV content, </span>
<span class="sd">            group_column, key_column, and value_column to identify duplicates.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains a message about the operation and a list of duplicate rows if any.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">content_base64</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">decoded</span><span class="p">))</span>

        <span class="n">missing_cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">value_column</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="n">missing_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">missing_cols</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Missing required columns: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_cols</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;duplicates&quot;</span><span class="p">:</span> <span class="p">[]</span>
            <span class="p">}</span>

        <span class="c1"># ✅ Correct grouping and detection logic:</span>
        <span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="p">)</span>

        <span class="n">duplicates_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group_df</span> <span class="ow">in</span> <span class="n">grouped</span><span class="p">:</span>
            <span class="n">duplicates_in_group</span> <span class="o">=</span> <span class="n">group_df</span><span class="p">[</span><span class="n">group_df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">duplicates_in_group</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="n">duplicates_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">duplicates_in_group</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;records&quot;</span><span class="p">))</span>

        <span class="c1"># ✅ Clean message reporting</span>
        <span class="k">if</span> <span class="n">duplicates_list</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;✅ Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">duplicates_list</span><span class="p">)</span><span class="si">}</span><span class="s2"> duplicate rows based on &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="si">}</span><span class="s2">&#39; and &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;✅ No duplicates found.&quot;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span>
            <span class="s2">&quot;duplicates&quot;</span><span class="p">:</span> <span class="n">duplicates_list</span>
        <span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Error finding duplicates: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;duplicates&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.get_lookup_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_lookup_names</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.get_lookup_names" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Extracts unique lookup names from a specified group column in a base64-encoded CSV.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains 'content_base64' with CSV data and 'group_column' to extract lookup names from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains a message and a list of unique lookup names found in the CSV.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_lookup_names</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts unique lookup names from a specified group column in a base64-encoded CSV.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (dict): Contains &#39;content_base64&#39; with CSV data and &#39;group_column&#39; to extract lookup names from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains a message and a list of unique lookup names found in the CSV.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Assume the file is already uploaded or passed in memory</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;content_base64&#39;</span><span class="p">])</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">decoded</span><span class="p">))</span>

        <span class="n">group_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;group_column&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">group_column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Column &#39;</span><span class="si">{</span><span class="n">group_column</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">,</span> <span class="s2">&quot;lookup_names&quot;</span><span class="p">:</span> <span class="p">[]}</span>

        <span class="n">lookup_names</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">group_column</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;✅ Lookup names extracted.&quot;</span><span class="p">,</span> <span class="s2">&quot;lookup_names&quot;</span><span class="p">:</span> <span class="n">lookup_names</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Error fetching lookup names: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;lookup_names&quot;</span><span class="p">:</span> <span class="p">[]}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.push_lookup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push_lookup</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.push_lookup" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Pushes the lookup strings from lookup_output.csv into the Seeq asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PushLookupRequest (itv_asset_tree.api.csv_lookup_generator.PushLookupRequest)" href="#itv_asset_tree.api.csv_lookup_generator.PushLookupRequest">PushLookupRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains the tree_name and workbook_name for Seeq.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains a message about the operation and the visualized tree structure if successful.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push_lookup</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">PushLookupRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes the lookup strings from lookup_output.csv into the Seeq asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (PushLookupRequest): Contains the tree_name and workbook_name for Seeq.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains a message about the operation and the visualized tree structure if successful.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># ✅ Load lookup_output.csv directly</span>
        <span class="n">lookup_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;./output&quot;</span><span class="p">,</span> <span class="s2">&quot;lookup_output.csv&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">lookup_file_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ lookup_output.csv not found. Please generate it first by setting parent paths.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="kc">None</span>
            <span class="p">}</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">lookup_file_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Lookup CSV is empty.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="kc">None</span>
            <span class="p">}</span>

        <span class="n">tree_modifier</span> <span class="o">=</span> <span class="n">TreeModifier</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">tree_name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">tree_name</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
            <span class="n">tree_modifier</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[{</span>
                <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                <span class="s2">&quot;Formula&quot;</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Formula&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                <span class="s2">&quot;Formula Parameters&quot;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Formula Parameters&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)),</span>
            <span class="p">}],</span> <span class="n">parent</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;Parent Path&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

        <span class="n">tree_modifier</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>

        <span class="k">global</span> <span class="n">current_tree</span><span class="p">,</span> <span class="n">current_tree_name</span>
        <span class="n">current_tree</span><span class="p">,</span> <span class="n">current_tree_name</span> <span class="o">=</span> <span class="n">tree_modifier</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">tree_name</span>

        <span class="n">visualize_output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualize_output</span><span class="p">):</span>
            <span class="n">current_tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;✅ Lookup pushed to Seeq.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">visualize_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to push lookup: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="kc">None</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.resolve_duplicates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolve_duplicates</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.resolve_duplicates" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Removes specified rows from a CSV to resolve duplicates and saves the resolved file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ResolveDuplicatesRequest (itv_asset_tree.api.csv_lookup_generator.ResolveDuplicatesRequest)" href="#itv_asset_tree.api.csv_lookup_generator.ResolveDuplicatesRequest">ResolveDuplicatesRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains filename, base64 CSV content,
group_column, key_column, value_column, and a list of row indices to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contains a message about the operation and the path to the resolved CSV file if successful.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_duplicates</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">ResolveDuplicatesRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes specified rows from a CSV to resolve duplicates and saves the resolved file.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (ResolveDuplicatesRequest): Contains filename, base64 CSV content,</span>
<span class="sd">            group_column, key_column, value_column, and a list of row indices to remove.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Contains a message about the operation and the path to the resolved CSV file if successful.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">content_base64</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">decoded</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">value_column</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Column &#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">,</span> <span class="s2">&quot;resolved_file&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="n">resolved_data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">rows_to_remove</span><span class="p">)</span>

        <span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;./output&quot;</span><span class="p">,</span> <span class="s2">&quot;resolved_data.csv&quot;</span><span class="p">)</span>
        <span class="n">resolved_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Duplicates resolved. </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">rows_to_remove</span><span class="p">)</span><span class="si">}</span><span class="s2"> rows removed.&quot;</span><span class="p">,</span> <span class="s2">&quot;resolved_file&quot;</span><span class="p">:</span> <span class="n">output_path</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Error resolving duplicates: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;resolved_file&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.set_parent_paths" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_parent_paths</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.set_parent_paths" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Sets parent paths for the lookup strings and saves the results to lookup_output.csv.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="SetParentPathsRequest (itv_asset_tree.api.csv_lookup_generator.SetParentPathsRequest)" href="#itv_asset_tree.api.csv_lookup_generator.SetParentPathsRequest">SetParentPathsRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing parent path mappings,
group_column, key_column, value_column, and base64-encoded CSV content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating success or error, plus updated lookup records.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_parent_paths</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">SetParentPathsRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets parent paths for the lookup strings and saves the results to lookup_output.csv.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (SetParentPathsRequest): The request containing parent path mappings,</span>
<span class="sd">            group_column, key_column, value_column, and base64-encoded CSV content.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating success or error, plus updated lookup records.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">resolved_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">,</span> <span class="s2">&quot;resolved_data.csv&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">resolved_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Resolved data file not found.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;updated_records&quot;</span><span class="p">:</span> <span class="p">[]</span>
            <span class="p">}</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">resolved_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="p">[</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">value_column</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Column &#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;updated_records&quot;</span><span class="p">:</span> <span class="p">[]</span>
                <span class="p">}</span>

        <span class="n">parent_paths</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">parent_paths</span>
        <span class="n">lookup_builder</span> <span class="o">=</span> <span class="n">LookupTableBuilder</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">group_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">key_column</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">value_column</span><span class="p">)</span>
        <span class="n">lookup_tables</span> <span class="o">=</span> <span class="n">lookup_builder</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="n">lookup_data</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">_LookupString&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Formula&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">formula</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
                <span class="s2">&quot;Formula Parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Parent Path&quot;</span><span class="p">:</span> <span class="n">parent_paths</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;Root Asset&quot;</span><span class="p">),</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">formula</span> <span class="ow">in</span> <span class="n">lookup_tables</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">]</span>

        <span class="n">output_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">,</span> <span class="s2">&quot;lookup_output.csv&quot;</span><span class="p">)</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lookup_data</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Successfully set parent paths for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">parent_paths</span><span class="p">)</span><span class="si">}</span><span class="s2"> lookup strings.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;updated_records&quot;</span><span class="p">:</span> <span class="n">lookup_data</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Error setting parent paths: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;updated_records&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.csv_lookup_generator.upload_raw_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">upload_raw_csv</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.csv_lookup_generator.upload_raw_csv" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Uploads and validates a raw CSV file from Base64-encoded content.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="UploadRawCsvRequest (itv_asset_tree.api.csv_lookup_generator.UploadRawCsvRequest)" href="#itv_asset_tree.api.csv_lookup_generator.UploadRawCsvRequest">UploadRawCsvRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The upload request containing filename and content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A success message or error details.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/csv_lookup_generator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">upload_raw_csv</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">UploadRawCsvRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Uploads and validates a raw CSV file from Base64-encoded content.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (UploadRawCsvRequest): The upload request containing filename and content.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A success message or error details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">decoded_content</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">content_base64</span><span class="p">)</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPLOAD_DIR</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">decoded_content</span><span class="p">)</span>

        <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ File &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#39; uploaded successfully.&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to upload CSV: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.dependencies"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.dependencies.get_db" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_db</span><span class="p">()</span></code>

<a href="#itv_asset_tree.api.dependencies.get_db" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Dependency function that provides a database session.</p>
<p>This function yields a database session for use in API routes.
The session is automatically closed after use.</p>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Session</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A SQLAlchemy database session instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/dependencies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_db</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dependency function that provides a database session.</span>

<span class="sd">    This function yields a database session for use in API routes.</span>
<span class="sd">    The session is automatically closed after use.</span>

<span class="sd">    Yields:</span>
<span class="sd">        Session: A SQLAlchemy database session instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">SessionLocal</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">db</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.models"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.models.BuildRequest" class="doc doc-heading">
            <code>BuildRequest</code>


<a href="#itv_asset_tree.api.models.BuildRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Request model for building an asset template.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BuildRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request model for building an asset template.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">template_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the template to apply&quot;</span><span class="p">)</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of signal (StoredSignal, CalculatedSignal, etc.)&quot;</span><span class="p">)</span>
    <span class="n">search_query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Query used to find matching signals&quot;</span><span class="p">)</span>
    <span class="n">build_asset_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Regex to extract asset names from signals&quot;</span><span class="p">)</span>
    <span class="n">build_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Path where the asset should be built&quot;</span><span class="p">)</span>

    <span class="c1"># Conditionally Required Fields</span>
    <span class="n">datasource_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Datasource Name (Only required for Stored Signals)&quot;</span><span class="p">)</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Asset tree path for searching signals&quot;</span><span class="p">)</span>

    <span class="c1"># Contextual Fields</span>
    <span class="n">workbook_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Workbook Name (Required for Seeq push)&quot;</span><span class="p">)</span>
    <span class="n">facility_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Directly assigned Facility Name&quot;</span><span class="p">)</span>
    <span class="n">section_name_regex</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Regex to extract Section names from signals&quot;</span><span class="p">)</span>
    <span class="n">region_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Directly assigned Region Name&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.startup_handler"></a>
    <div class="doc doc-contents first">

        <p>Handles application startup tasks such as connecting to Seeq and ensuring user configuration files are available.</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.startup_handler.connect_to_seeq" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">connect_to_seeq</span><span class="p">()</span></code>

<a href="#itv_asset_tree.api.startup_handler.connect_to_seeq" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Establishes a connection to Seeq using credentials from environment variables (via settings).</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/startup_handler.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">connect_to_seeq</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Establishes a connection to Seeq using credentials from environment variables (via settings).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Retrieve values directly from the settings object (which is populated from .env)</span>
    <span class="n">server_url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SERVER_HOST</span>  <span class="c1"># Directly access .env variable</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SERVER_USERNAME</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SERVER_PASSWORD</span>
    <span class="n">force_login</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SEEQ_FORCE_LOGIN</span>  <span class="c1"># Default is set in config.py</span>

    <span class="n">login_kwargs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">server_url</span><span class="p">,</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="n">username</span><span class="p">,</span>
        <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
        <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">force_login</span>  <span class="c1"># Use .env value for force login</span>
    <span class="p">}</span>

    <span class="c1"># log_info(f&quot;Attempting to log in with username: {username}, server: {server_url}&quot;)</span>

    <span class="c1"># Clean up empty values and attempt to login</span>
    <span class="n">login_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">login_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="o">**</span><span class="n">login_kwargs</span><span class="p">)</span>  <span class="c1"># Log into Seeq</span>
        <span class="n">host</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span>
        <span class="n">port</span> <span class="o">=</span> <span class="mi">8000</span>  <span class="c1"># Default port</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ Successfully logged into Seeq and Config Loaded!&quot;</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚀 Server is running! Click here to open: http://</span><span class="si">{</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to log in to Seeq: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.startup_handler.ensure_user_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ensure_user_config</span><span class="p">()</span></code>

<a href="#itv_asset_tree.api.startup_handler.ensure_user_config" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Ensure that the user's local configuration directory exists and is populated.</p>
<p>Copies the default <code>config.yaml</code> and <code>templates</code> directory from the package to the user's
home directory under <code>.itv_asset_tree</code>, if they do not already exist.</p>
<p>Logs relevant status messages throughout the process.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/startup_handler.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ensure_user_config</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ensure that the user&#39;s local configuration directory exists and is populated.</span>

<span class="sd">    Copies the default `config.yaml` and `templates` directory from the package to the user&#39;s</span>
<span class="sd">    home directory under `.itv_asset_tree`, if they do not already exist.</span>

<span class="sd">    Logs relevant status messages throughout the process.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_config_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;.itv_asset_tree&quot;</span>
    <span class="n">package_config_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;config&quot;</span>
    <span class="n">package_templates_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;templates&quot;</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Checking user config directory at: </span><span class="si">{</span><span class="n">user_config_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Ensure user config directory exists</span>
    <span class="n">user_config_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Copy config.yaml if it doesn&#39;t exist</span>
    <span class="n">config_path</span> <span class="o">=</span> <span class="n">user_config_dir</span> <span class="o">/</span> <span class="s2">&quot;config.yaml&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">package_config_dir</span> <span class="o">/</span> <span class="s2">&quot;config.yaml&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">package_config_dir</span> <span class="o">/</span> <span class="s2">&quot;config.yaml&quot;</span><span class="p">,</span> <span class="n">config_path</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Copied config.yaml to </span><span class="si">{</span><span class="n">config_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ Package config.yaml not found at </span><span class="si">{</span><span class="n">package_config_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Copy templates directory if it doesn&#39;t exist</span>
    <span class="n">user_templates_dir</span> <span class="o">=</span> <span class="n">user_config_dir</span> <span class="o">/</span> <span class="s2">&quot;templates&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user_templates_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">package_templates_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">package_templates_dir</span><span class="p">,</span> <span class="n">user_templates_dir</span><span class="p">,</span> <span class="n">dirs_exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Copied templates to </span><span class="si">{</span><span class="n">user_templates_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ Package templates directory not found at </span><span class="si">{</span><span class="n">package_templates_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final User Config Path: </span><span class="si">{</span><span class="n">user_config_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final User Templates Path: </span><span class="si">{</span><span class="n">user_templates_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.template_discovery"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.api.template_discovery.TemplateListResponse" class="doc doc-heading">
            <code>TemplateListResponse</code>


<a href="#itv_asset_tree.api.template_discovery.TemplateListResponse" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Response model for listing available templates.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.api.template_discovery.TemplateListResponse.templates">templates</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enabled template names from config.yaml.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/api/template_discovery.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TemplateListResponse</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Response model for listing available templates.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        templates (List[str]): Enabled template names from config.yaml.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">templates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.template_discovery.get_templates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_templates</span><span class="p">()</span></code>

<a href="#itv_asset_tree.api.template_discovery.get_templates" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Retrieves the list of enabled asset tree templates from config.yaml.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>TemplateListResponse</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="TemplateListResponse (itv_asset_tree.api.template_discovery.TemplateListResponse)" href="#itv_asset_tree.api.template_discovery.TemplateListResponse">TemplateListResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object containing template names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/template_discovery.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_templates</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">TemplateListResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves the list of enabled asset tree templates from config.yaml.</span>

<span class="sd">    Returns:</span>
<span class="sd">        TemplateListResponse: Object containing template names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">templates</span> <span class="o">=</span> <span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;templates.enabled&quot;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="k">return</span> <span class="n">TemplateListResponse</span><span class="p">(</span><span class="n">templates</span><span class="o">=</span><span class="n">templates</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.api.templates"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.build_template_endpoint" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_template_endpoint</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.templates.build_template_endpoint" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Route for building an asset tree using the requested template.</p>
<p>Dynamically resolves the appropriate entry class and delegates the build process
to the correct strategy (HVAC-style or Valve-style).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BuildRequest (itv_asset_tree.api.models.BuildRequest)" href="#itv_asset_tree.api.models.BuildRequest">BuildRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Request payload with all required fields.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message indicating result of build and push.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_template_endpoint</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">BuildRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Route for building an asset tree using the requested template.</span>

<span class="sd">    Dynamically resolves the appropriate entry class and delegates the build process</span>
<span class="sd">    to the correct strategy (HVAC-style or Valve-style).</span>

<span class="sd">    Args:</span>
<span class="sd">        request (BuildRequest): Request payload with all required fields.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Message indicating result of build and push.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Received request: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Get template entry class</span>
        <span class="n">template_entry</span> <span class="o">=</span> <span class="n">TEMPLATE_ENTRY_POINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">template_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">template_entry</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;🚨 Unknown template: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">}</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Resolved template entry: </span><span class="si">{</span><span class="n">template_entry</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> (from template: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="c1"># Decide build style from config</span>
        <span class="n">build_config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">build_config</span> <span class="o">=</span> <span class="n">template_entry</span><span class="o">.</span><span class="n">get_build_config</span><span class="p">()</span>  <span class="c1"># type: ignore[attr-defined]</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No get_build_config() available: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">requires_component_column</span> <span class="o">=</span> <span class="n">build_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;requires_component_column&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 requires_component_column: </span><span class="si">{</span><span class="n">requires_component_column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">build_df</span> <span class="o">=</span> <span class="n">build_template</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">template_entry</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ Successfully built and pushed asset tree.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;✅ Successfully built and pushed asset tree.&quot;</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error in build_template_endpoint: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Failed to build asset tree.&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.extract_asset_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extract_asset_name</span><span class="p">(</span><span class="n">row</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.templates.extract_asset_name" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Extracts the asset name from the signal name based on the component.
Args:
    row (pd.Series): A row from the DataFrame containing 'Name' and 'Component'.
Returns:
    str: The extracted asset name.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extract_asset_name</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts the asset name from the signal name based on the component.</span>
<span class="sd">    Args:</span>
<span class="sd">        row (pd.Series): A row from the DataFrame containing &#39;Name&#39; and &#39;Component&#39;.</span>
<span class="sd">    Returns:</span>
<span class="sd">        str: The extracted asset name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Extracting asset name from row: </span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span>
    <span class="n">component</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">component</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">name</span>  <span class="c1"># fallback</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">suffix</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">name</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Extracted asset name: </span><span class="si">{</span><span class="n">suffix</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;_- &#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">suffix</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;_- &quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">name</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.fetch_base_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_base_metadata</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.templates.fetch_base_metadata" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Retrieves base metadata from Seeq before applying calculations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="pydantic.BaseModel">BaseModel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing search parameters.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame containing metadata of matching signals.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fetch_base_metadata</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">BuildRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves base metadata from Seeq before applying calculations.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (BaseModel): The request containing search parameters.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: A pandas DataFrame containing metadata of matching signals.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">region_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">region_name</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">region_name</span> <span class="k">else</span> <span class="n">request</span><span class="o">.</span><span class="n">build_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">facility_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">facility_name</span> <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">facility_name</span> <span class="k">else</span> <span class="p">(</span>
        <span class="n">request</span><span class="o">.</span><span class="n">build_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;&gt;&gt;&quot;</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">build_path</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>

    <span class="n">query_payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">search_query</span><span class="p">,</span>
        <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Datasource Name&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">datasource_name</span>
    <span class="p">}</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔎 Fetching base metadata with: </span><span class="si">{</span><span class="n">query_payload</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">search_results</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query_payload</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No matching stored signals found for &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="n">search_results</span> <span class="o">=</span> <span class="n">search_results</span><span class="p">[[</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Datasource Name&quot;</span><span class="p">]]</span>

    <span class="c1"># Apply regex safely</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">build_asset_regex</span><span class="p">:</span>
        <span class="n">extracted_asset</span> <span class="o">=</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">rf</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">build_asset_regex</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Build Asset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">extracted_asset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Build Asset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Build Path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">region_name</span><span class="si">}</span><span class="s2"> &gt;&gt; </span><span class="si">{</span><span class="n">facility_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">facility_name</span> <span class="k">else</span> <span class="n">region_name</span>

    <span class="k">return</span> <span class="n">search_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.fetch_existing_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_existing_tree</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#itv_asset_tree.api.templates.fetch_existing_tree" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Fetches an existing asset tree from Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><span title="pydantic.BaseModel">BaseModel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The request containing asset tree details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame containing the asset tree details.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fetch_existing_tree</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">BuildRequest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches an existing asset tree from Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (BaseModel): The request containing asset tree details.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: A pandas DataFrame containing the asset tree details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree_query</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">asset_tree_name</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">build_path</span><span class="p">,</span> 
        <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Asset&quot;</span>
    <span class="p">}</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔎 Searching for existing asset tree: </span><span class="si">{</span><span class="n">tree_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">tree_results</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">tree_query</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">tree_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No existing asset tree found for &#39;</span><span class="si">{</span><span class="n">tree_query</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Found asset tree:</span><span class="se">\n</span><span class="si">{</span><span class="n">tree_results</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tree_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.fetch_signals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_signals</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="n">datasource_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#itv_asset_tree.api.templates.fetch_signals" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Fetches available signals from Seeq based on either:
- Datasource name (raw tag search with regex filtering), or
- Asset tree path (structured friendly names search).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>search_query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The query string (can be regex).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>datasource_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the Seeq datasource.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Asset tree path to search under.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>{ "signals": List[str] }</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_signals</span><span class="p">(</span>
    <span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">datasource_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches available signals from Seeq based on either:</span>
<span class="sd">    - Datasource name (raw tag search with regex filtering), or</span>
<span class="sd">    - Asset tree path (structured friendly names search).</span>

<span class="sd">    Args:</span>
<span class="sd">        search_query (str): The query string (can be regex).</span>
<span class="sd">        datasource_name (Optional[str]): Name of the Seeq datasource.</span>
<span class="sd">        path (Optional[str]): Asset tree path to search under.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: { &quot;signals&quot;: List[str] }</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">datasource_name</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ You must provide either a `datasource_name` or an asset tree `path`.&quot;</span>
            <span class="p">}</span>

        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌲 Searching for signals in asset tree path: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">split_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                    <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid tree path format. Expected: &#39;Workbook &gt;&gt; Tree Name&#39;&quot;</span>
                <span class="p">}</span>

            <span class="n">workbook_name</span> <span class="o">=</span> <span class="s2">&quot; &gt;&gt; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">split_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">tree_name</span> <span class="o">=</span> <span class="n">split_path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>
            <span class="n">tree_df</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">df</span>

            <span class="n">signal_df</span> <span class="o">=</span> <span class="n">tree_df</span><span class="p">[</span><span class="n">tree_df</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Signal&quot;</span><span class="p">,</span> <span class="s2">&quot;CalculatedSignal&quot;</span><span class="p">,</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">])]</span>
            <span class="n">matched</span> <span class="o">=</span> <span class="n">signal_df</span><span class="p">[</span><span class="n">signal_df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">matched</span><span class="p">)</span><span class="si">}</span><span class="s2"> signal(s) in asset tree path search&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;signals&quot;</span><span class="p">:</span> <span class="n">matched</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()}</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📡 Fetching raw signals from datasource: &#39;</span><span class="si">{</span><span class="n">datasource_name</span><span class="si">}</span><span class="s2">&#39; using query: &#39;</span><span class="si">{</span><span class="n">search_query</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

            <span class="n">query</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Datasource Name&quot;</span><span class="p">:</span> <span class="n">datasource_name</span><span class="p">,</span>
                <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">search_query</span>
            <span class="p">}</span>

            <span class="n">search_results</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No signals found for datasource criteria.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;signals&quot;</span><span class="p">:</span> <span class="p">[]}</span>

            <span class="n">signal_names</span> <span class="o">=</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">signal_names</span><span class="p">)</span><span class="si">}</span><span class="s2"> signals matching search query in datasource &#39;</span><span class="si">{</span><span class="n">datasource_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;signals&quot;</span><span class="p">:</span> <span class="n">signal_names</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to fetch signals: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;errorType&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;trace&quot;</span><span class="p">:</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.get_hierarchical_templates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_hierarchical_templates</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#itv_asset_tree.api.templates.get_hierarchical_templates" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Fetches hierarchical templates that contain nested asset components.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of hierarchical templates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If an error occurs while fetching templates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_hierarchical_templates</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches hierarchical templates that contain nested asset components.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary of hierarchical templates.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If an error occurs while fetching templates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;🔍 Fetching hierarchical templates...&quot;</span><span class="p">)</span>

        <span class="n">hierarchical_templates</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">name</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">TEMPLATE_CLASSES</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;build_components&quot;</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">hierarchical_templates</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No hierarchical templates found.&quot;</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Hierarchical templates retrieved: </span><span class="si">{</span><span class="n">hierarchical_templates</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;hierarchical_templates&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">hierarchical_templates</span><span class="p">)}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error fetching hierarchical templates: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Failed to fetch hierarchical templates: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.get_template_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_template_parameters</span><span class="p">(</span><span class="n">template_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#itv_asset_tree.api.templates.get_template_parameters" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Returns required parameters for the given template.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>template_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the template.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The required parameters for the template.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the template is not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_template_parameters</span><span class="p">(</span><span class="n">template_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns required parameters for the given template.</span>

<span class="sd">    Args:</span>
<span class="sd">        template_name (str): The name of the template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The required parameters for the template.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the template is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">template_class</span> <span class="o">=</span> <span class="n">TEMPLATE_ENTRY_POINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">template_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">template_class</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Template &#39;</span><span class="si">{</span><span class="n">template_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;template_name&quot;</span><span class="p">:</span> <span class="n">template_name</span><span class="p">,</span>
            <span class="s2">&quot;required_parameters&quot;</span><span class="p">:</span> <span class="n">template_class</span><span class="o">.</span><span class="n">get_required_parameters</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.api.templates.visualize_template" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">visualize_template</span><span class="p">(</span><span class="n">params</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#itv_asset_tree.api.templates.visualize_template" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Fetches and returns a structured tree visualization using TreeVisualizer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>params</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing 'workbook_name' (or 'workbookName') and optionally 'region_name' (or 'regionName').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message and tree structure visualization (or empty if not found).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/api/templates.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">visualize_template</span><span class="p">(</span><span class="n">params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches and returns a structured tree visualization using TreeVisualizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        params (dict): Dictionary containing &#39;workbook_name&#39; (or &#39;workbookName&#39;) and optionally &#39;region_name&#39; (or &#39;regionName&#39;).</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message and tree structure visualization (or empty if not found).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">workbook_name</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workbook_name&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workbookName&quot;</span><span class="p">)</span>
        <span class="n">region_name</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;region_name&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;regionName&quot;</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [DEBUG] Fetching visualization for Workbook: &#39;</span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&#39;, Region Name: &#39;</span><span class="si">{</span><span class="n">region_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">workbook_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Missing workbook_name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
            <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">region_name</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">(</span><span class="n">region_name</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No region name provided, attempting to infer...&quot;</span><span class="p">)</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">workbook_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">workbook_name</span> <span class="k">else</span> <span class="p">[]</span>
            <span class="n">region_name</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="p">(</span><span class="n">workbook_name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">workbook_name</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">region_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;❌ Cannot visualize tree: No valid region_name.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
            <span class="p">}</span>

        <span class="n">visualizer</span> <span class="o">=</span> <span class="n">TreeVisualizer</span><span class="p">()</span>
        <span class="n">visualization</span> <span class="o">=</span> <span class="n">visualizer</span><span class="o">.</span><span class="n">get_tree_visualization</span><span class="p">(</span><span class="n">tree_name</span><span class="o">=</span><span class="n">region_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">visualization</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Visualization for tree &#39;</span><span class="si">{</span><span class="n">region_name</span><span class="si">}</span><span class="s2">&#39; is empty or not found.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
            <span class="p">}</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📊 [DEBUG] Successfully visualized tree &#39;</span><span class="si">{</span><span class="n">region_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
            <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;✅ Tree visualization for &#39;</span><span class="si">{</span><span class="n">region_name</span><span class="si">}</span><span class="s2">&#39; retrieved.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="n">visualization</span>
        <span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ Unexpected error during visualization: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;errorType&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;trace&quot;</span><span class="p">:</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
            <span class="s2">&quot;tree_structure&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.config.settings"></a>
    <div class="doc doc-contents first">

        <p>Defines application configuration settings using Pydantic BaseSettings.</p>
<p>Loads environment variables from a <code>.env</code> file and exposes configuration attributes
such as server credentials, debug mode, and host address.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.config.settings.Settings" class="doc doc-heading">
            <code>Settings</code>


<a href="#itv_asset_tree.config.settings.Settings" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic_settings.BaseSettings">BaseSettings</span></code></p>


        <p>Configuration settings for the ITV Asset Tree API.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.config.settings.Settings.app_name">app_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the application.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.config.settings.Settings.debug">debug</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag to enable or disable debug mode.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.config.settings.Settings.SERVER_USERNAME">SERVER_USERNAME</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Username for server authentication.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.config.settings.Settings.SERVER_PASSWORD">SERVER_PASSWORD</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Password for server authentication.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.config.settings.Settings.SERVER_HOST">SERVER_HOST</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Host address of the server.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/config/settings.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Settings</span><span class="p">(</span><span class="n">BaseSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Configuration settings for the ITV Asset Tree API.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        app_name (str): The name of the application.</span>
<span class="sd">        debug (bool): Flag to enable or disable debug mode.</span>
<span class="sd">        SERVER_USERNAME (str): Username for server authentication.</span>
<span class="sd">        SERVER_PASSWORD (str): Password for server authentication.</span>
<span class="sd">        SERVER_HOST (str): Host address of the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">app_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;ITV Asset Tree API&quot;</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">SERVER_USERNAME</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">SERVER_PASSWORD</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">SERVER_HOST</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">SEEQ_FORCE_LOGIN</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><!-- ::: itv_asset_tree.api.config can I include this? Will need to try later -->



<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.config_loader"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.core.config_loader.get_config_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.config_loader.get_config_value" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get configuration value, prioritizing .env over YAML.
- If key exists in .env, it takes precedence.
- Otherwise, falls back to <code>config.yaml</code>.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/config_loader.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_config_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get configuration value, prioritizing .env over YAML.</span>
<span class="sd">    - If key exists in .env, it takes precedence.</span>
<span class="sd">    - Otherwise, falls back to `config.yaml`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First, check for the value in the .env</span>
    <span class="n">env_value</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">env_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">env_value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">env_value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span>
        <span class="k">if</span> <span class="n">env_value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">env_value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">env_value</span>  <span class="c1"># Return string as-is</span>

    <span class="c1"># If not found in .env, fall back to config.yaml</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">config</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">default</span>  <span class="c1"># Invalid path, return default</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.core.config_loader.load_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_config</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.config_loader.load_config" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Load configuration from YAML file, with fallback to defaults.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/config_loader.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_config</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load configuration from YAML file, with fallback to defaults.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">CONFIG_PATH</span><span class="p">):</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ config.yaml not found at </span><span class="si">{</span><span class="n">CONFIG_PATH</span><span class="si">}</span><span class="s2">. Using default config.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">DEFAULT_CONFIG</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">CONFIG_PATH</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Config loaded successfully from </span><span class="si">{</span><span class="n">CONFIG_PATH</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">config</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to load config: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">DEFAULT_CONFIG</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.csv_parser"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.csv_parser.CSVParser" class="doc doc-heading">
            <code>CSVParser</code>


<a href="#itv_asset_tree.core.csv_parser.CSVParser" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Handles CSV file parsing and validation.</p>
<p>This class provides methods to read CSV files and ensure they meet
expected structural requirements before further processing.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/csv_parser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CSVParser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles CSV file parsing and validation.</span>

<span class="sd">    This class provides methods to read CSV files and ensure they meet</span>
<span class="sd">    expected structural requirements before further processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads a CSV file into a pandas DataFrame and validates required columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_path (str): The path to the CSV file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame containing the parsed CSV data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the required &#39;Level 1&#39; column is missing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;Level 1&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;⚠️ CSV file must contain a &#39;Level 1&#39; column.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.csv_parser.CSVParser.parse_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.csv_parser.CSVParser.parse_csv" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Loads a CSV file into a pandas DataFrame and validates required columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the CSV file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the parsed CSV data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the required 'Level 1' column is missing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/csv_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a CSV file into a pandas DataFrame and validates required columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path (str): The path to the CSV file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the parsed CSV data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the required &#39;Level 1&#39; column is missing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;Level 1&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;⚠️ CSV file must contain a &#39;Level 1&#39; column.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.interfaces"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.interfaces.ITreeArchive" class="doc doc-heading">
            <code>ITreeArchive</code>


<a href="#itv_asset_tree.core.interfaces.ITreeArchive" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Interface for archiving entire asset trees.</p>
<p>This interface enforces the implementation of a tree-level archival operation.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ITreeArchive</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface for archiving entire asset trees.</span>

<span class="sd">    This interface enforces the implementation of a tree-level archival operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">archive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Archives all items in the associated asset tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.interfaces.ITreeArchive.archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.interfaces.ITreeArchive.archive" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Archives all items in the associated asset tree.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">archive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Archives all items in the associated asset tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.interfaces.ITreeInsert" class="doc doc-heading">
            <code>ITreeInsert</code>


<a href="#itv_asset_tree.core.interfaces.ITreeInsert" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Interface for inserting items into an asset tree.</p>
<p>This interface defines the required method for inserting an item under a specified parent path.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ITreeInsert</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface for inserting items into an asset tree.</span>

<span class="sd">    This interface defines the required method for inserting an item under a specified parent path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">insert_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">item_definition</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inserts an item into the tree under the specified parent path.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent_path (str): The path of the parent node where the item should be inserted.</span>
<span class="sd">            item_definition (dict): A dictionary defining the item&#39;s attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.interfaces.ITreeInsert.insert_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">insert_item</span><span class="p">(</span><span class="n">parent_path</span><span class="p">,</span> <span class="n">item_definition</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.interfaces.ITreeInsert.insert_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Inserts an item into the tree under the specified parent path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parent_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path of the parent node where the item should be inserted.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>item_definition</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary defining the item's attributes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">insert_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">item_definition</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inserts an item into the tree under the specified parent path.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent_path (str): The path of the parent node where the item should be inserted.</span>
<span class="sd">        item_definition (dict): A dictionary defining the item&#39;s attributes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.interfaces.ITreeMove" class="doc doc-heading">
            <code>ITreeMove</code>


<a href="#itv_asset_tree.core.interfaces.ITreeMove" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Interface for moving items within an asset tree.</p>
<p>This interface enforces the implementation of item movement between tree locations.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ITreeMove</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface for moving items within an asset tree.</span>

<span class="sd">    This interface enforces the implementation of item movement between tree locations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">move_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Moves an item from the source path to the destination path.</span>

<span class="sd">        Args:</span>
<span class="sd">            source (str): The current location of the item in the tree.</span>
<span class="sd">            destination (str): The new location where the item should be moved.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.interfaces.ITreeMove.move_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move_item</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.interfaces.ITreeMove.move_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Moves an item from the source path to the destination path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current location of the item in the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>destination</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new location where the item should be moved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">move_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Moves an item from the source path to the destination path.</span>

<span class="sd">    Args:</span>
<span class="sd">        source (str): The current location of the item in the tree.</span>
<span class="sd">        destination (str): The new location where the item should be moved.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.interfaces.ITreeRemove" class="doc doc-heading">
            <code>ITreeRemove</code>


<a href="#itv_asset_tree.core.interfaces.ITreeRemove" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Interface for removing items from an asset tree.</p>
<p>This interface enforces the implementation of item deletion within a tree structure.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ITreeRemove</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Interface for removing items from an asset tree.</span>

<span class="sd">    This interface enforces the implementation of item deletion within a tree structure.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes an item from the tree at the specified path.</span>

<span class="sd">        Args:</span>
<span class="sd">            item_path (str): The path of the item to be removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.interfaces.ITreeRemove.remove_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_item</span><span class="p">(</span><span class="n">item_path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.interfaces.ITreeRemove.remove_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Removes an item from the tree at the specified path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>item_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path of the item to be removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/interfaces.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes an item from the tree at the specified path.</span>

<span class="sd">    Args:</span>
<span class="sd">        item_path (str): The path of the item to be removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.push_manager"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.push_manager.PushManager" class="doc doc-heading">
            <code>PushManager</code>


<a href="#itv_asset_tree.core.push_manager.PushManager" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Handles pushing an asset tree to Seeq using different push strategies.</p>
<p>This class manages the process of pushing a tree using a specified strategy,
allowing for flexibility in how the push operation is executed.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/push_manager.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PushManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles pushing an asset tree to Seeq using different push strategies.</span>

<span class="sd">    This class manages the process of pushing a tree using a specified strategy,</span>
<span class="sd">    allowing for flexibility in how the push operation is executed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">strategy</span><span class="p">:</span> <span class="n">PushStrategy</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the PushManager with an asset tree and a push strategy.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The asset tree to be pushed.</span>
<span class="sd">            strategy (PushStrategy, optional): The strategy to use for pushing the tree.</span>
<span class="sd">                Defaults to `ImmediatePush` if no strategy is provided.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided tree is empty or invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ PushManager received an empty tree.&quot;</span><span class="p">)</span>

        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] PushManager initialized with tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">strategy</span> <span class="k">if</span> <span class="n">strategy</span> <span class="k">else</span> <span class="n">ImmediatePush</span><span class="p">()</span>  <span class="c1"># Default strategy</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metadata_df</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the push operation using the assigned push strategy, or pushes metadata directly.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata_state_file (str, optional): Path to metadata state file.</span>
<span class="sd">            metadata_df (pd.DataFrame, optional): If provided, pushes metadata directly via SPy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">metadata_df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📦 [PushManager] Pushing metadata DataFrame directly to Seeq...&quot;</span><span class="p">)</span>
            <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata_df</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ Metadata push successful.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_manager.PushManager.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.push_manager.PushManager.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the PushManager with an asset tree and a push strategy.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset tree to be pushed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strategy</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PushStrategy (itv_asset_tree.core.push_strategies.PushStrategy)" href="#itv_asset_tree.core.push_strategies.PushStrategy">PushStrategy</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The strategy to use for pushing the tree.
Defaults to <code>ImmediatePush</code> if no strategy is provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the provided tree is empty or invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">strategy</span><span class="p">:</span> <span class="n">PushStrategy</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the PushManager with an asset tree and a push strategy.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree: The asset tree to be pushed.</span>
<span class="sd">        strategy (PushStrategy, optional): The strategy to use for pushing the tree.</span>
<span class="sd">            Defaults to `ImmediatePush` if no strategy is provided.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the provided tree is empty or invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ PushManager received an empty tree.&quot;</span><span class="p">)</span>

    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] PushManager initialized with tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">strategy</span> <span class="k">if</span> <span class="n">strategy</span> <span class="k">else</span> <span class="n">ImmediatePush</span><span class="p">()</span>  <span class="c1"># Default strategy</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_manager.PushManager.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metadata_df</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.push_manager.PushManager.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Executes the push operation using the assigned push strategy, or pushes metadata directly.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata_state_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to metadata state file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata_df</code>
            </td>
            <td>
                  <code><span title="pd.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If provided, pushes metadata directly via SPy.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metadata_df</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the push operation using the assigned push strategy, or pushes metadata directly.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata_state_file (str, optional): Path to metadata state file.</span>
<span class="sd">        metadata_df (pd.DataFrame, optional): If provided, pushes metadata directly via SPy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">metadata_df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📦 [PushManager] Pushing metadata DataFrame directly to Seeq...&quot;</span><span class="p">)</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata_df</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ Metadata push successful.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.push_strategies"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.push_strategies.BatchPush" class="doc doc-heading">
            <code>BatchPush</code>


<a href="#itv_asset_tree.core.push_strategies.BatchPush" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="PushStrategy (itv_asset_tree.core.push_strategies.PushStrategy)" href="#itv_asset_tree.core.push_strategies.PushStrategy">PushStrategy</a></code></p>


        <p>Batches multiple tree changes before committing them to Seeq.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BatchPush</span><span class="p">(</span><span class="n">PushStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Batches multiple tree changes before committing them to Seeq.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes a batch queue for storing asset trees to be pushed later.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an asset tree to the batch queue.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The asset tree to be added to the batch.</span>
<span class="sd">            metadata_state_file (str, optional): The path to the metadata state file.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree is not available.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ No tree available to push.&quot;</span><span class="p">)</span>

        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🛠 [DEBUG] Adding tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to batch queue.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">commit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pushes all batched asset trees to Seeq at once.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;⚠️ [DEBUG] No trees in batch. Nothing to push.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚀 [DEBUG] Batch pushing tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
            <span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata_state_file</span><span class="o">=</span><span class="n">metadata_state_file</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;✅ [DEBUG] All batched trees pushed successfully.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clear_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears the batch queue, discarding all pending changes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;⚠️ [DEBUG] Clearing batch queue. All changes discarded.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.BatchPush.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.push_strategies.BatchPush.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes a batch queue for storing asset trees to be pushed later.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes a batch queue for storing asset trees to be pushed later.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">batch</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.BatchPush.clear_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_batch</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.push_strategies.BatchPush.clear_batch" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Clears the batch queue, discarding all pending changes.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clear_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clears the batch queue, discarding all pending changes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;⚠️ [DEBUG] Clearing batch queue. All changes discarded.&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.BatchPush.commit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">commit</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.push_strategies.BatchPush.commit" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Pushes all batched asset trees to Seeq at once.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">commit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes all batched asset trees to Seeq at once.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;⚠️ [DEBUG] No trees in batch. Nothing to push.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">for</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚀 [DEBUG] Batch pushing tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
        <span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata_state_file</span><span class="o">=</span><span class="n">metadata_state_file</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;✅ [DEBUG] All batched trees pushed successfully.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.BatchPush.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.push_strategies.BatchPush.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Adds an asset tree to the batch queue.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset tree to be added to the batch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata_state_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the metadata state file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree is not available.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds an asset tree to the batch queue.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree: The asset tree to be added to the batch.</span>
<span class="sd">        metadata_state_file (str, optional): The path to the metadata state file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree is not available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ No tree available to push.&quot;</span><span class="p">)</span>

    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🛠 [DEBUG] Adding tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to batch queue.&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">batch</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.push_strategies.DryRunPush" class="doc doc-heading">
            <code>DryRunPush</code>


<a href="#itv_asset_tree.core.push_strategies.DryRunPush" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="PushStrategy (itv_asset_tree.core.push_strategies.PushStrategy)" href="#itv_asset_tree.core.push_strategies.PushStrategy">PushStrategy</a></code></p>


        <p>Simulates a push operation without actually modifying Seeq.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DryRunPush</span><span class="p">(</span><span class="n">PushStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simulates a push operation without actually modifying Seeq.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs a dry-run push for testing purposes.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The asset tree being simulated.</span>
<span class="sd">            metadata_state_file (str, optional): The path to the metadata state file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Details of the simulated push operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📝 [DEBUG] Dry-run push for tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. No changes applied.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Dry-run push for tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; completed.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tree_name&quot;</span><span class="p">:</span> <span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;metadata_file&quot;</span><span class="p">:</span> <span class="n">metadata_state_file</span> <span class="ow">or</span> <span class="s2">&quot;N/A&quot;</span><span class="p">,</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;dry_run&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.DryRunPush.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.push_strategies.DryRunPush.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Performs a dry-run push for testing purposes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset tree being simulated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata_state_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the metadata state file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Details of the simulated push operation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a dry-run push for testing purposes.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree: The asset tree being simulated.</span>
<span class="sd">        metadata_state_file (str, optional): The path to the metadata state file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Details of the simulated push operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📝 [DEBUG] Dry-run push for tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. No changes applied.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Dry-run push for tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; completed.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tree_name&quot;</span><span class="p">:</span> <span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;metadata_file&quot;</span><span class="p">:</span> <span class="n">metadata_state_file</span> <span class="ow">or</span> <span class="s2">&quot;N/A&quot;</span><span class="p">,</span>
        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;dry_run&quot;</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.push_strategies.ImmediatePush" class="doc doc-heading">
            <code>ImmediatePush</code>


<a href="#itv_asset_tree.core.push_strategies.ImmediatePush" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="PushStrategy (itv_asset_tree.core.push_strategies.PushStrategy)" href="#itv_asset_tree.core.push_strategies.PushStrategy">PushStrategy</a></code></p>


        <p>Pushes changes to Seeq immediately after every modification.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ImmediatePush</span><span class="p">(</span><span class="n">PushStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes changes to Seeq immediately after every modification.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes an immediate push operation for the given asset tree.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The asset tree to be pushed.</span>
<span class="sd">            metadata_state_file (str, optional): The path to the metadata state file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A message indicating the success or failure of the push operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree is not available for pushing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ No tree available to push.&quot;</span><span class="p">)</span>

        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚀 [DEBUG] Pushing tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to Seeq immediately...&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata_state_file</span><span class="o">=</span><span class="n">metadata_state_file</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; successfully pushed.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; pushed successfully.&quot;</span><span class="p">}</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Push failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.ImmediatePush.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.push_strategies.ImmediatePush.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Executes an immediate push operation for the given asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset tree to be pushed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata_state_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the metadata state file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating the success or failure of the push operation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree is not available for pushing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes an immediate push operation for the given asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree: The asset tree to be pushed.</span>
<span class="sd">        metadata_state_file (str, optional): The path to the metadata state file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating the success or failure of the push operation.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree is not available for pushing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ No tree available to push.&quot;</span><span class="p">)</span>

    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚀 [DEBUG] Pushing tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to Seeq immediately...&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata_state_file</span><span class="o">=</span><span class="n">metadata_state_file</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; successfully pushed.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Tree &#39;</span><span class="si">{</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; pushed successfully.&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Push failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.push_strategies.PushStrategy" class="doc doc-heading">
            <code>PushStrategy</code>


<a href="#itv_asset_tree.core.push_strategies.PushStrategy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract base class defining the interface for different push strategies.</p>
<p>Subclasses must implement the <code>push</code> method to define how asset trees
should be pushed to Seeq.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PushStrategy</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract base class defining the interface for different push strategies.</span>

<span class="sd">    Subclasses must implement the `push` method to define how asset trees</span>
<span class="sd">    should be pushed to Seeq.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pushes the asset tree to Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The asset tree to be pushed.</span>
<span class="sd">            metadata_state_file (str, optional): The path to the metadata state file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.push_strategies.PushStrategy.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.push_strategies.PushStrategy.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Pushes the asset tree to Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset tree to be pushed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata_state_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the metadata state file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/push_strategies.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes the asset tree to Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree: The asset tree to be pushed.</span>
<span class="sd">        metadata_state_file (str, optional): The path to the metadata state file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.seeq_adapter"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.seeq_adapter.SeeqAdapter" class="doc doc-heading">
            <code>SeeqAdapter</code>


<a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract Adapter Interface for interacting with Seeq.</p>
<p>This class defines the interface for interacting with Seeq, including searching,
pushing metadata, and authentication.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SeeqAdapter</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract Adapter Interface for interacting with Seeq.</span>

<span class="sd">    This class defines the interface for interacting with Seeq, including searching,</span>
<span class="sd">    pushing metadata, and authentication.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">search_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datasource_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for items in Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_query (str): The search query string.</span>
<span class="sd">            search_type (str): The type of search (e.g., &quot;StoredSignal&quot;).</span>
<span class="sd">            datasource_name (str): The name of the datasource to search within.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame containing the search results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pushes metadata to Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (pd.DataFrame): The metadata to push.</span>
<span class="sd">            workbook (str): The name of the workbook to push the metadata into.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Authenticates with Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): The Seeq server URL.</span>
<span class="sd">            username (str): The username for authentication.</span>
<span class="sd">            password (str): The password for authentication.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqAdapter.login" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">login</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.login" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Authenticates with Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Seeq server URL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>username</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The username for authentication.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>password</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The password for authentication.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Authenticates with Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): The Seeq server URL.</span>
<span class="sd">        username (str): The username for authentication.</span>
<span class="sd">        password (str): The password for authentication.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqAdapter.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">workbook</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Pushes metadata to Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata to push.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook to push the metadata into.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes metadata to Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (pd.DataFrame): The metadata to push.</span>
<span class="sd">        workbook (str): The name of the workbook to push the metadata into.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqAdapter.search" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="n">search_type</span><span class="p">,</span> <span class="n">datasource_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter.search" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Searches for items in Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>search_query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The search query string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>search_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of search (e.g., "StoredSignal").</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>datasource_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the datasource to search within.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the search results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">search_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datasource_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Searches for items in Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        search_query (str): The search query string.</span>
<span class="sd">        search_type (str): The type of search (e.g., &quot;StoredSignal&quot;).</span>
<span class="sd">        datasource_name (str): The name of the datasource to search within.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the search results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter" class="doc doc-heading">
            <code>SeeqSpyAdapter</code>


<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="SeeqAdapter (itv_asset_tree.core.seeq_adapter.SeeqAdapter)" href="#itv_asset_tree.core.seeq_adapter.SeeqAdapter">SeeqAdapter</a></code></p>


        <p>Concrete Adapter for Seeq, using spy.</p>
<p>This class implements the SeeqAdapter interface using the Seeq <code>spy</code> library.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SeeqSpyAdapter</span><span class="p">(</span><span class="n">SeeqAdapter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Concrete Adapter for Seeq, using spy.</span>

<span class="sd">    This class implements the SeeqAdapter interface using the Seeq `spy` library.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">search_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datasource_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for signals or assets in Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_query (str): The search query string.</span>
<span class="sd">            search_type (str): The type of search (e.g., &quot;StoredSignal&quot;).</span>
<span class="sd">            datasource_name (str): The name of the datasource to search within.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame containing the search results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">query_payload</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">search_query</span><span class="p">,</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="n">search_type</span><span class="p">,</span>
                <span class="s2">&quot;Datasource Name&quot;</span><span class="p">:</span> <span class="n">datasource_name</span>
            <span class="p">}</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Performing Seeq search: </span><span class="si">{</span><span class="n">query_payload</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">search_results</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query_payload</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No results found in Seeq search.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">search_results</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error searching Seeq: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">search_signals</span><span class="p">(</span><span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches stored signals from Seeq, sorts them alphabetically, and returns them.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_query (str): The search query string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: A sorted list of signal names found in Seeq.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Fetching stored signals for query: </span><span class="si">{</span><span class="n">search_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">search_results</span> <span class="o">=</span> <span class="n">SeeqSpyAdapter</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No stored signals found in Seeq search.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="c1"># Sort signal names alphabetically before returning</span>
        <span class="n">sorted_signals</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Retrieved </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sorted_signals</span><span class="p">)</span><span class="si">}</span><span class="s2"> signals (sorted).&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sorted_signals</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">search_in_tree</span><span class="p">(</span><span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for signals within an asset tree in Seeq based on a path.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_query (str): The name or pattern to search for.</span>
<span class="sd">            tree_path (str): The full path to the asset tree, in the form &quot;Workbook &gt;&gt; Tree&quot;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: Filtered DataFrame of matching signals from the tree.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided tree path is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">split_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">tree_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid asset tree path. Must be: &#39;Workbook &gt;&gt; Tree&#39;&quot;</span><span class="p">)</span>

        <span class="n">workbook_name</span> <span class="o">=</span> <span class="s2">&quot; &gt;&gt; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">split_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">tree_name</span> <span class="o">=</span> <span class="n">split_path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>
        <span class="n">tree_df</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">df</span>

        <span class="n">signal_df</span> <span class="o">=</span> <span class="n">tree_df</span><span class="p">[</span><span class="n">tree_df</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Signal&quot;</span><span class="p">,</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">,</span> <span class="s2">&quot;CalculatedSignal&quot;</span><span class="p">])]</span>
        <span class="n">filtered</span> <span class="o">=</span> <span class="n">signal_df</span><span class="p">[</span><span class="n">signal_df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_query</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;.*&quot;</span><span class="p">),</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>

        <span class="k">return</span> <span class="n">filtered</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build_and_push</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">metadata_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Builds assets using the provided template and pushes them to Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_class: The asset model class to be used for building.</span>
<span class="sd">            metadata_df (pd.DataFrame): The metadata DataFrame containing asset details.</span>
<span class="sd">            workbook_name (str): The name of the workbook to push the built assets into.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A message indicating success or failure.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided model class is invalid or the build process fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔨 Building asset tree using template: </span><span class="si">{</span><span class="n">model_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">model_class</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Invalid template class provided: </span><span class="si">{</span><span class="n">model_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">build_df</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">metadata_df</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">build_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;🚨 Build process returned an empty DataFrame. No assets were created.&quot;</span><span class="p">)</span>

            <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">build_df</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully pushed assets to Seeq workbook: </span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;✅ Successfully built and pushed asset tree.&quot;</span><span class="p">}</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error in build_and_push: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to build and push assets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pushes metadata to Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (pd.DataFrame): The metadata DataFrame to be pushed.</span>
<span class="sd">            workbook (str): The name of the workbook where metadata will be pushed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook</span><span class="p">)</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] Data pushed successfully to workbook: </span><span class="si">{</span><span class="n">workbook</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to push to Seeq: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Logs into Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): The Seeq server URL.</span>
<span class="sd">            username (str): The username for authentication.</span>
<span class="sd">            password (str): The password for authentication.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">spy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] Successfully logged into Seeq at </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Seeq login failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.build_and_push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_and_push</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">metadata_df</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.build_and_push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Builds assets using the provided template and pushes them to Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model_class</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset model class to be used for building.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata_df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata DataFrame containing asset details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook to push the built assets into.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A message indicating success or failure.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the provided model class is invalid or the build process fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build_and_push</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">metadata_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds assets using the provided template and pushes them to Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_class: The asset model class to be used for building.</span>
<span class="sd">        metadata_df (pd.DataFrame): The metadata DataFrame containing asset details.</span>
<span class="sd">        workbook_name (str): The name of the workbook to push the built assets into.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A message indicating success or failure.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the provided model class is invalid or the build process fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔨 Building asset tree using template: </span><span class="si">{</span><span class="n">model_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">model_class</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Invalid template class provided: </span><span class="si">{</span><span class="n">model_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">build_df</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">metadata_df</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">build_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;🚨 Build process returned an empty DataFrame. No assets were created.&quot;</span><span class="p">)</span>

        <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">build_df</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully pushed assets to Seeq workbook: </span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;✅ Successfully built and pushed asset tree.&quot;</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error in build_and_push: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to build and push assets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.login" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">login</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.login" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Logs into Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Seeq server URL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>username</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The username for authentication.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>password</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The password for authentication.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): The Seeq server URL.</span>
<span class="sd">        username (str): The username for authentication.</span>
<span class="sd">        password (str): The password for authentication.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] Successfully logged into Seeq at </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Seeq login failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.push" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">workbook</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.push" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Pushes metadata to Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata DataFrame to be pushed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook where metadata will be pushed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes metadata to Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (pd.DataFrame): The metadata DataFrame to be pushed.</span>
<span class="sd">        workbook (str): The name of the workbook where metadata will be pushed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook</span><span class="p">)</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] Data pushed successfully to workbook: </span><span class="si">{</span><span class="n">workbook</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to push to Seeq: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="n">search_type</span><span class="p">,</span> <span class="n">datasource_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Searches for signals or assets in Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>search_query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The search query string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>search_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of search (e.g., "StoredSignal").</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>datasource_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the datasource to search within.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the search results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">search_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">datasource_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Searches for signals or assets in Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        search_query (str): The search query string.</span>
<span class="sd">        search_type (str): The type of search (e.g., &quot;StoredSignal&quot;).</span>
<span class="sd">        datasource_name (str): The name of the datasource to search within.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the search results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">query_payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">search_query</span><span class="p">,</span>
            <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="n">search_type</span><span class="p">,</span>
            <span class="s2">&quot;Datasource Name&quot;</span><span class="p">:</span> <span class="n">datasource_name</span>
        <span class="p">}</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Performing Seeq search: </span><span class="si">{</span><span class="n">query_payload</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">search_results</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query_payload</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No results found in Seeq search.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">search_results</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error searching Seeq: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_in_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_in_tree</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="n">tree_path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_in_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Searches for signals within an asset tree in Seeq based on a path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>search_query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name or pattern to search for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tree_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path to the asset tree, in the form "Workbook &gt;&gt; Tree".</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Filtered DataFrame of matching signals from the tree.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the provided tree path is not valid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">search_in_tree</span><span class="p">(</span><span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Searches for signals within an asset tree in Seeq based on a path.</span>

<span class="sd">    Args:</span>
<span class="sd">        search_query (str): The name or pattern to search for.</span>
<span class="sd">        tree_path (str): The full path to the asset tree, in the form &quot;Workbook &gt;&gt; Tree&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Filtered DataFrame of matching signals from the tree.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the provided tree path is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">split_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">tree_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid asset tree path. Must be: &#39;Workbook &gt;&gt; Tree&#39;&quot;</span><span class="p">)</span>

    <span class="n">workbook_name</span> <span class="o">=</span> <span class="s2">&quot; &gt;&gt; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">split_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">tree_name</span> <span class="o">=</span> <span class="n">split_path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">)</span>
    <span class="n">tree_df</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">df</span>

    <span class="n">signal_df</span> <span class="o">=</span> <span class="n">tree_df</span><span class="p">[</span><span class="n">tree_df</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;Signal&quot;</span><span class="p">,</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">,</span> <span class="s2">&quot;CalculatedSignal&quot;</span><span class="p">])]</span>
    <span class="n">filtered</span> <span class="o">=</span> <span class="n">signal_df</span><span class="p">[</span><span class="n">signal_df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_query</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;.*&quot;</span><span class="p">),</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>

    <span class="k">return</span> <span class="n">filtered</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_signals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_signals</span><span class="p">(</span><span class="n">search_query</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.seeq_adapter.SeeqSpyAdapter.search_signals" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Fetches stored signals from Seeq, sorts them alphabetically, and returns them.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>search_query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The search query string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sorted list of signal names found in Seeq.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/seeq_adapter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">search_signals</span><span class="p">(</span><span class="n">search_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches stored signals from Seeq, sorts them alphabetically, and returns them.</span>

<span class="sd">    Args:</span>
<span class="sd">        search_query (str): The search query string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: A sorted list of signal names found in Seeq.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Fetching stored signals for query: </span><span class="si">{</span><span class="n">search_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">search_results</span> <span class="o">=</span> <span class="n">SeeqSpyAdapter</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">search_query</span><span class="p">,</span> <span class="s2">&quot;StoredSignal&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No stored signals found in Seeq search.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="c1"># Sort signal names alphabetically before returning</span>
    <span class="n">sorted_signals</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Retrieved </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sorted_signals</span><span class="p">)</span><span class="si">}</span><span class="s2"> signals (sorted).&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sorted_signals</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_archiver"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_archiver.TreeArchiver" class="doc doc-heading">
            <code>TreeArchiver</code>


<a href="#itv_asset_tree.core.tree_archiver.TreeArchiver" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ITreeArchive (itv_asset_tree.core.interfaces.ITreeArchive)" href="#itv_asset_tree.core.interfaces.ITreeArchive">ITreeArchive</a></code></p>


        <p>Utility class to archive all items in a Seeq asset tree.</p>
<p>This is the only safe and SPy-supported way to 'remove' an asset tree,
since Seeq does not support root asset deletion directly via API.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_archiver.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeArchiver</span><span class="p">(</span><span class="n">ITreeArchive</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility class to archive all items in a Seeq asset tree.</span>

<span class="sd">    This is the only safe and SPy-supported way to &#39;remove&#39; an asset tree,</span>
<span class="sd">    since Seeq does not support root asset deletion directly via API.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreeArchiver with a specific tree and workbook scope.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree_name (str): The name of the tree to archive.</span>
<span class="sd">            workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span> <span class="o">=</span> <span class="n">tree_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>

        <span class="c1"># 👇 Load the actual Tree object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_manager</span> <span class="o">=</span> <span class="n">PushManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>  <span class="c1"># Correct usage here</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">archive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Archives the full asset tree by marking all nodes (root + children) as Archived = True.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree root cannot be found or no items are discovered under it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [Archiver] Locating tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; in workbook &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>

            <span class="n">root_result</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
                <span class="p">{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Asset&quot;</span><span class="p">},</span>
                <span class="n">workbook</span><span class="o">=</span><span class="n">spy</span><span class="o">.</span><span class="n">GLOBALS_AND_ALL_WORKBOOKS</span><span class="p">,</span>
                <span class="n">old_asset_format</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">root_result</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Root asset &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>

            <span class="n">root_id</span> <span class="o">=</span> <span class="n">root_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;ID&quot;</span><span class="p">]</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📛 Found root asset ID: </span><span class="si">{</span><span class="n">root_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">items_in_tree</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
                <span class="p">[{</span><span class="s2">&quot;Asset&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;ID&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">}],</span>
                <span class="n">workbook</span><span class="o">=</span><span class="n">spy</span><span class="o">.</span><span class="n">GLOBALS_AND_ALL_WORKBOOKS</span><span class="p">,</span>
                <span class="n">all_properties</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">items_in_tree</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No items found to archive under &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="n">items_in_tree</span><span class="p">[</span><span class="s2">&quot;Archived&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Pushing archive update for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">items_in_tree</span><span class="p">)</span><span class="si">}</span><span class="s2"> items...&quot;</span><span class="p">)</span>
            <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">items_in_tree</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Archived </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">items_in_tree</span><span class="p">)</span><span class="si">}</span><span class="s2"> items for tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Archiving failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Archive operation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_archiver.TreeArchiver.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_archiver.TreeArchiver.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreeArchiver with a specific tree and workbook scope.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to archive.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_archiver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreeArchiver with a specific tree and workbook scope.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_name (str): The name of the tree to archive.</span>
<span class="sd">        workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span> <span class="o">=</span> <span class="n">tree_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>

    <span class="c1"># 👇 Load the actual Tree object</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="n">workbook</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push_manager</span> <span class="o">=</span> <span class="n">PushManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>  <span class="c1"># Correct usage here</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_archiver.TreeArchiver.archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_archiver.TreeArchiver.archive" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Archives the full asset tree by marking all nodes (root + children) as Archived = True.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree root cannot be found or no items are discovered under it.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_archiver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">archive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Archives the full asset tree by marking all nodes (root + children) as Archived = True.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree root cannot be found or no items are discovered under it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [Archiver] Locating tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; in workbook &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>

        <span class="n">root_result</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
            <span class="p">{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Asset&quot;</span><span class="p">},</span>
            <span class="n">workbook</span><span class="o">=</span><span class="n">spy</span><span class="o">.</span><span class="n">GLOBALS_AND_ALL_WORKBOOKS</span><span class="p">,</span>
            <span class="n">old_asset_format</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">root_result</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Root asset &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>

        <span class="n">root_id</span> <span class="o">=</span> <span class="n">root_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;ID&quot;</span><span class="p">]</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📛 Found root asset ID: </span><span class="si">{</span><span class="n">root_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">items_in_tree</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
            <span class="p">[{</span><span class="s2">&quot;Asset&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;ID&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">}],</span>
            <span class="n">workbook</span><span class="o">=</span><span class="n">spy</span><span class="o">.</span><span class="n">GLOBALS_AND_ALL_WORKBOOKS</span><span class="p">,</span>
            <span class="n">all_properties</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">items_in_tree</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No items found to archive under &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">items_in_tree</span><span class="p">[</span><span class="s2">&quot;Archived&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Pushing archive update for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">items_in_tree</span><span class="p">)</span><span class="si">}</span><span class="s2"> items...&quot;</span><span class="p">)</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">items_in_tree</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Archived </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">items_in_tree</span><span class="p">)</span><span class="si">}</span><span class="s2"> items for tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Archiving failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Archive operation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_builder"></a>
    <div class="doc doc-contents first">

        <p>Provides the TreeBuilder class for managing asset tree creation and manipulation in Seeq.</p>
<p>Supports building empty or structured trees, visualizing their structure, and retrieving a push manager
for deployment into Seeq.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_builder.TreeBuilder" class="doc doc-heading">
            <code>TreeBuilder</code>


<a href="#itv_asset_tree.core.tree_builder.TreeBuilder" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Class to manage tree creation and manipulation in Seeq.</p>
<p>This class provides methods to parse CSV files, build empty or structured trees,
visualize the tree structure, and retrieve a push manager for committing changes.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeBuilder</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to manage tree creation and manipulation in Seeq.</span>

<span class="sd">    This class provides methods to parse CSV files, build empty or structured trees,</span>
<span class="sd">    visualize the tree structure, and retrieve a push manager for committing changes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">csv_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreeBuilder with a specified workbook and optional CSV file.</span>

<span class="sd">        Args:</span>
<span class="sd">            workbook (str): The name of the workbook where the tree will be created.</span>
<span class="sd">            csv_file (Optional[str]): The path to a CSV file containing tree structure data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span> <span class="o">=</span> <span class="n">csv_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">parse_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses the CSV file and loads metadata into a DataFrame.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no CSV file is provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;CSV file not provided.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ CSV parsed successfully: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build_empty_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">friendly_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Builds an empty tree with only the root node.</span>

<span class="sd">        Args:</span>
<span class="sd">            friendly_name (str): The display name of the root node.</span>
<span class="sd">            description (str): A description of the tree.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tree: The initialized empty tree instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">root_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([{</span>
            <span class="s1">&#39;Path&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="n">friendly_name</span><span class="p">,</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;Datasource ID&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;Datasource Class&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;Description&#39;</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
        <span class="p">}])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">root_data</span><span class="p">,</span>
            <span class="n">workbook</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="p">,</span>
            <span class="n">friendly_name</span><span class="o">=</span><span class="n">friendly_name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Empty tree &#39;</span><span class="si">{</span><span class="n">friendly_name</span><span class="si">}</span><span class="s2">&#39; created successfully.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build_tree_from_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">friendly_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Builds a tree from a provided CSV file and initializes it in Seeq.</span>

<span class="sd">        Args:</span>
<span class="sd">            friendly_name (str): The display name of the tree.</span>
<span class="sd">            description (str): A description of the tree.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no CSV file is provided.</span>
<span class="sd">            RuntimeError: If tree creation fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;CSV file not provided.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Build the tree using Seeq API</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">,</span>  <span class="c1"># Pass the CSV file path directly</span>
                <span class="n">workbook</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="p">,</span>
                <span class="n">friendly_name</span><span class="o">=</span><span class="n">friendly_name</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Tree &#39;</span><span class="si">{</span><span class="n">friendly_name</span><span class="si">}</span><span class="s2">&#39; created successfully.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visualize_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Visualizes the tree structure in a readable format.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str or dict: A structured tree visualization or a JSON-like representation if visualization fails.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree has not been built yet.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Tree not built yet.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Attempt to summarize the tree</span>
            <span class="n">structure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">structure</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;𐂷 Tree.summarize() returned an empty structure.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">structure</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Tree.summarize() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># Use the fallback method</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_tree_to_json</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_tree_to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts the tree into a JSON-like nested dictionary for visualization.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A structured representation of the tree hierarchy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Tree not built yet.&quot;</span><span class="p">}</span>

        <span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">StringIO</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">contextlib</span>

        <span class="c1"># Capture the tree visualization as a string</span>
        <span class="k">with</span> <span class="n">StringIO</span><span class="p">()</span> <span class="k">as</span> <span class="n">buf</span><span class="p">,</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">redirect_stdout</span><span class="p">(</span><span class="n">buf</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
            <span class="n">visualization</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>

        <span class="c1"># Build a JSON-like structure from the tree visualization</span>
        <span class="n">tree_json</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">current_level</span> <span class="o">=</span> <span class="p">[</span><span class="n">tree_json</span><span class="p">]</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">visualization</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="c1"># Calculate the indentation level</span>
            <span class="n">level</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;| &quot;</span><span class="p">)))</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">node_name</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;| &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="c1"># Navigate to the correct level</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">current_level</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">current_level</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

            <span class="c1"># Add node to the current level</span>
            <span class="n">current_node</span> <span class="o">=</span> <span class="n">current_level</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">node_name</span><span class="p">:</span>
                <span class="n">current_node</span><span class="p">[</span><span class="n">node_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">current_level</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_node</span><span class="p">[</span><span class="n">node_name</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">tree_json</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_push_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a PushManager instance for the current tree.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PushManager: An instance of PushManager to handle tree pushing.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree has not been built yet.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ Tree is not built. Call &#39;build_empty_tree()&#39; first.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PushManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_builder.TreeBuilder.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">csv_file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_builder.TreeBuilder.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreeBuilder with a specified workbook and optional CSV file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook where the tree will be created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>csv_file</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to a CSV file containing tree structure data.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">csv_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreeBuilder with a specified workbook and optional CSV file.</span>

<span class="sd">    Args:</span>
<span class="sd">        workbook (str): The name of the workbook where the tree will be created.</span>
<span class="sd">        csv_file (Optional[str]): The path to a CSV file containing tree structure data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span> <span class="o">=</span> <span class="n">csv_file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_builder.TreeBuilder.build_empty_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_empty_tree</span><span class="p">(</span><span class="n">friendly_name</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_builder.TreeBuilder.build_empty_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Builds an empty tree with only the root node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>friendly_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The display name of the root node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>description</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A description of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Tree</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The initialized empty tree instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_empty_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">friendly_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds an empty tree with only the root node.</span>

<span class="sd">    Args:</span>
<span class="sd">        friendly_name (str): The display name of the root node.</span>
<span class="sd">        description (str): A description of the tree.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tree: The initialized empty tree instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([{</span>
        <span class="s1">&#39;Path&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="n">friendly_name</span><span class="p">,</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;Datasource ID&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;Datasource Class&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;Description&#39;</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
    <span class="p">}])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">root_data</span><span class="p">,</span>
        <span class="n">workbook</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="p">,</span>
        <span class="n">friendly_name</span><span class="o">=</span><span class="n">friendly_name</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Empty tree &#39;</span><span class="si">{</span><span class="n">friendly_name</span><span class="si">}</span><span class="s2">&#39; created successfully.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_builder.TreeBuilder.build_tree_from_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_tree_from_csv</span><span class="p">(</span><span class="n">friendly_name</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_builder.TreeBuilder.build_tree_from_csv" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Builds a tree from a provided CSV file and initializes it in Seeq.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>friendly_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The display name of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>description</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A description of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no CSV file is provided.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If tree creation fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_tree_from_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">friendly_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a tree from a provided CSV file and initializes it in Seeq.</span>

<span class="sd">    Args:</span>
<span class="sd">        friendly_name (str): The display name of the tree.</span>
<span class="sd">        description (str): A description of the tree.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no CSV file is provided.</span>
<span class="sd">        RuntimeError: If tree creation fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;CSV file not provided.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Build the tree using Seeq API</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">,</span>  <span class="c1"># Pass the CSV file path directly</span>
            <span class="n">workbook</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="p">,</span>
            <span class="n">friendly_name</span><span class="o">=</span><span class="n">friendly_name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Tree &#39;</span><span class="si">{</span><span class="n">friendly_name</span><span class="si">}</span><span class="s2">&#39; created successfully.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_builder.TreeBuilder.get_push_manager" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_push_manager</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_builder.TreeBuilder.get_push_manager" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Retrieves a PushManager instance for the current tree.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PushManager</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance of PushManager to handle tree pushing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree has not been built yet.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_push_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves a PushManager instance for the current tree.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PushManager: An instance of PushManager to handle tree pushing.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree has not been built yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ Tree is not built. Call &#39;build_empty_tree()&#39; first.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">PushManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_builder.TreeBuilder.parse_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_csv</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_builder.TreeBuilder.parse_csv" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Parses the CSV file and loads metadata into a DataFrame.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no CSV file is provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parse_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parses the CSV file and loads metadata into a DataFrame.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no CSV file is provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;CSV file not provided.&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ CSV parsed successfully: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_builder.TreeBuilder.visualize_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">visualize_tree</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_builder.TreeBuilder.visualize_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Visualizes the tree structure in a readable format.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str or dict: A structured tree visualization or a JSON-like representation if visualization fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree has not been built yet.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">visualize_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualizes the tree structure in a readable format.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str or dict: A structured tree visualization or a JSON-like representation if visualization fails.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree has not been built yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Tree not built yet.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Attempt to summarize the tree</span>
        <span class="n">structure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">structure</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;𐂷 Tree.summarize() returned an empty structure.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">structure</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Tree.summarize() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Use the fallback method</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_tree_to_json</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_loader"></a>
    <div class="doc doc-contents first">

        <p>Provides the TreeLoader class for reloading asset trees from Seeq.</p>
<p>This module ensures that tree objects are updated with the latest state from the server
by re-fetching the structure using Seeq SPy.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_loader.TreeLoader" class="doc doc-heading">
            <code>TreeLoader</code>


<a href="#itv_asset_tree.core.tree_loader.TreeLoader" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Handles loading and reloading trees from Seeq.</p>
<p>This class allows fetching an existing tree from Seeq to ensure
that the latest changes are reflected.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_loader.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeLoader</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles loading and reloading trees from Seeq.</span>

<span class="sd">    This class allows fetching an existing tree from Seeq to ensure</span>
<span class="sd">    that the latest changes are reflected.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreeLoader with a specified workbook and tree name.</span>

<span class="sd">        Args:</span>
<span class="sd">            workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">            tree_name (str): The name of the tree to be loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span> <span class="o">=</span> <span class="n">tree_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Forces a full reload of the tree from Seeq to ensure the latest updates are reflected.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tree: The reloaded tree instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If an error occurs while loading the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 Reloading tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; from workbook &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Drop the old reference first</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="p">)</span>  <span class="c1"># Reload from Seeq</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; reloaded successfully!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error loading tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_loader.TreeLoader.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_loader.TreeLoader.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreeLoader with a specified workbook and tree name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to be loaded.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_loader.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreeLoader with a specified workbook and tree name.</span>

<span class="sd">    Args:</span>
<span class="sd">        workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">        tree_name (str): The name of the tree to be loaded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span> <span class="o">=</span> <span class="n">tree_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_loader.TreeLoader.load_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_tree</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_loader.TreeLoader.load_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Forces a full reload of the tree from Seeq to ensure the latest updates are reflected.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Tree</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reloaded tree instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If an error occurs while loading the tree.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_loader.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Forces a full reload of the tree from Seeq to ensure the latest updates are reflected.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tree: The reloaded tree instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If an error occurs while loading the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 Reloading tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; from workbook &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Drop the old reference first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workbook</span><span class="p">)</span>  <span class="c1"># Reload from Seeq</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; reloaded successfully!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error loading tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_manager"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_manager.TreeManager" class="doc doc-heading">
            <code>TreeManager</code>


<a href="#itv_asset_tree.core.tree_manager.TreeManager" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract base class for managing asset trees in Seeq.</p>
<p>This class defines a blueprint for constructing and clearing asset trees within a specified workbook.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_manager.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeManager</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract base class for managing asset trees in Seeq.</span>

<span class="sd">    This class defines a blueprint for constructing and clearing asset trees within a specified workbook.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreeManager with a specified workbook.</span>

<span class="sd">        Args:</span>
<span class="sd">            workbook (str): The name of the workbook containing the asset tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">friendly_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a new tree with the specified name and description.</span>

<span class="sd">        Args:</span>
<span class="sd">            friendly_name (str): The display name of the tree.</span>
<span class="sd">            description (str): A description of the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">clear_existing_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears an existing tree by its name, removing it from the workbook.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree_name (str): The name of the tree to be cleared.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_manager.TreeManager.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">workbook</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_manager.TreeManager.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreeManager with a specified workbook.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the asset tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreeManager with a specified workbook.</span>

<span class="sd">    Args:</span>
<span class="sd">        workbook (str): The name of the workbook containing the asset tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">workbook</span> <span class="o">=</span> <span class="n">workbook</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_manager.TreeManager.build_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_tree</span><span class="p">(</span><span class="n">friendly_name</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.tree_manager.TreeManager.build_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Constructs a new tree with the specified name and description.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>friendly_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The display name of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>description</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A description of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">friendly_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs a new tree with the specified name and description.</span>

<span class="sd">    Args:</span>
<span class="sd">        friendly_name (str): The display name of the tree.</span>
<span class="sd">        description (str): A description of the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_manager.TreeManager.clear_existing_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_existing_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.tree_manager.TreeManager.clear_existing_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Clears an existing tree by its name, removing it from the workbook.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to be cleared.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">clear_existing_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clears an existing tree by its name, removing it from the workbook.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_name (str): The name of the tree to be cleared.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_modifier_factory"></a>
    <div class="doc doc-contents first">

        <p>Provides a factory class for instantiating TreeModifier objects with configurable push strategies.</p>
<p>This allows clients to dynamically construct tree modification workflows based on immediate,
batch, dry-run, or search-only modes.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory" class="doc doc-heading">
            <code>TreeModifierFactory</code>


<a href="#itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Factory for creating TreeModifier instances with the correct push strategy.</p>
<p>This factory enables flexible creation of TreeModifier instances with different
push strategies, allowing for immediate, batched, or dry-run modifications.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_modifier_factory.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeModifierFactory</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Factory for creating TreeModifier instances with the correct push strategy.</span>

<span class="sd">    This factory enables flexible creation of TreeModifier instances with different</span>
<span class="sd">    push strategies, allowing for immediate, batched, or dry-run modifications.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">strategy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;immediate&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TreeModifier</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a TreeModifier instance with a specified push strategy.</span>

<span class="sd">        Args:</span>
<span class="sd">            workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">            tree_name (str): The name of the tree to be modified.</span>
<span class="sd">            strategy (str, optional): The push strategy to apply. Options are:</span>
<span class="sd">                - &quot;immediate&quot; (default): Pushes changes instantly.</span>
<span class="sd">                - &quot;batch&quot;: Queues changes and commits them later.</span>
<span class="sd">                - &quot;dry_run&quot;: Simulates the push operation without modifying Seeq.</span>
<span class="sd">                - None: Disables push behavior, useful for read-only operations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            TreeModifier: A configured TreeModifier instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># If no strategy is provided (e.g., for searching), disable push</span>
        <span class="k">if</span> <span class="n">strategy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🏭 [Factory] Creating TreeModifier for &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; in SEARCH mode (no push).&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">TreeModifier</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">,</span> <span class="n">push_strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Convert strategy name into an instance of the correct PushStrategy class</span>
        <span class="n">strategy_mapping</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;immediate&quot;</span><span class="p">:</span> <span class="n">ImmediatePush</span><span class="p">(),</span>
            <span class="s2">&quot;batch&quot;</span><span class="p">:</span> <span class="n">BatchPush</span><span class="p">(),</span>
            <span class="s2">&quot;dry_run&quot;</span><span class="p">:</span> <span class="n">DryRunPush</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">push_strategy</span> <span class="o">=</span> <span class="n">strategy_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">strategy</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">ImmediatePush</span><span class="p">())</span>  <span class="c1"># Default: ImmediatePush</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🏭 [Factory] Creating TreeModifier for &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; with push strategy: </span><span class="si">{</span><span class="n">strategy</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">TreeModifier</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">,</span> <span class="n">push_strategy</span><span class="o">=</span><span class="n">push_strategy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;immediate&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.core.tree_modifier_factory.TreeModifierFactory.create" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Creates a TreeModifier instance with a specified push strategy.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to be modified.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strategy</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The push strategy to apply. Options are:
- "immediate" (default): Pushes changes instantly.
- "batch": Queues changes and commits them later.
- "dry_run": Simulates the push operation without modifying Seeq.
- None: Disables push behavior, useful for read-only operations.</p>
              </div>
            </td>
            <td>
                  <code>&#39;immediate&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>TreeModifier</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="TreeModifier (itv_asset_tree.core.tree_modifier.TreeModifier)" href="#itv_asset_tree.core.tree_modifier.TreeModifier">TreeModifier</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A configured TreeModifier instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier_factory.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">strategy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;immediate&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TreeModifier</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a TreeModifier instance with a specified push strategy.</span>

<span class="sd">    Args:</span>
<span class="sd">        workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">        tree_name (str): The name of the tree to be modified.</span>
<span class="sd">        strategy (str, optional): The push strategy to apply. Options are:</span>
<span class="sd">            - &quot;immediate&quot; (default): Pushes changes instantly.</span>
<span class="sd">            - &quot;batch&quot;: Queues changes and commits them later.</span>
<span class="sd">            - &quot;dry_run&quot;: Simulates the push operation without modifying Seeq.</span>
<span class="sd">            - None: Disables push behavior, useful for read-only operations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        TreeModifier: A configured TreeModifier instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># If no strategy is provided (e.g., for searching), disable push</span>
    <span class="k">if</span> <span class="n">strategy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🏭 [Factory] Creating TreeModifier for &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; in SEARCH mode (no push).&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">TreeModifier</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">,</span> <span class="n">push_strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Convert strategy name into an instance of the correct PushStrategy class</span>
    <span class="n">strategy_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;immediate&quot;</span><span class="p">:</span> <span class="n">ImmediatePush</span><span class="p">(),</span>
        <span class="s2">&quot;batch&quot;</span><span class="p">:</span> <span class="n">BatchPush</span><span class="p">(),</span>
        <span class="s2">&quot;dry_run&quot;</span><span class="p">:</span> <span class="n">DryRunPush</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="n">push_strategy</span> <span class="o">=</span> <span class="n">strategy_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">strategy</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">ImmediatePush</span><span class="p">())</span>  <span class="c1"># Default: ImmediatePush</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🏭 [Factory] Creating TreeModifier for &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; with push strategy: </span><span class="si">{</span><span class="n">strategy</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">TreeModifier</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">,</span> <span class="n">push_strategy</span><span class="o">=</span><span class="n">push_strategy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_modifier"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_modifier.TreeModifier" class="doc doc-heading">
            <code>TreeModifier</code>


<a href="#itv_asset_tree.core.tree_modifier.TreeModifier" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ITreeInsert (itv_asset_tree.core.interfaces.ITreeInsert)" href="#itv_asset_tree.core.interfaces.ITreeInsert">ITreeInsert</a></code>, <code><a class="autorefs autorefs-internal" title="ITreeMove (itv_asset_tree.core.interfaces.ITreeMove)" href="#itv_asset_tree.core.interfaces.ITreeMove">ITreeMove</a></code>, <code><a class="autorefs autorefs-internal" title="ITreeRemove (itv_asset_tree.core.interfaces.ITreeRemove)" href="#itv_asset_tree.core.interfaces.ITreeRemove">ITreeRemove</a></code></p>


        <p>A class for modifying asset trees in Seeq.</p>


<details class="implements" open>
  <summary>Implements</summary>
  <ul>
<li>ITreeInsert: insert_item()</li>
<li>ITreeMove: move_item()</li>
<li>ITreeRemove: remove_item()</li>
</ul>
</details>






              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeModifier</span><span class="p">(</span><span class="n">ITreeInsert</span><span class="p">,</span> <span class="n">ITreeMove</span><span class="p">,</span> <span class="n">ITreeRemove</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for modifying asset trees in Seeq.</span>

<span class="sd">    Implements:</span>
<span class="sd">      - ITreeInsert: insert_item()</span>
<span class="sd">      - ITreeMove: move_item()</span>
<span class="sd">      - ITreeRemove: remove_item()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">push_strategy</span><span class="p">:</span> <span class="n">PushStrategy</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreeModifier with a specified workbook, tree name, and push strategy.</span>

<span class="sd">        Args:</span>
<span class="sd">            workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">            tree_name (str): The name of the tree to be modified.</span>
<span class="sd">            push_strategy (PushStrategy, optional): The strategy to use when pushing changes. Defaults to ImmediatePush.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="n">TreeLoader</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">)</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">load_tree</span><span class="p">()</span> 
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Tree loaded: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧩 Available methods: </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Store push strategy as a class attribute (this was missing!)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span> <span class="o">=</span> <span class="n">push_strategy</span> <span class="k">if</span> <span class="n">push_strategy</span> <span class="k">else</span> <span class="n">ImmediatePush</span><span class="p">()</span>

        <span class="c1"># Initialize PushManager with the selected push strategy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_manager</span> <span class="o">=</span> <span class="n">PushManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">insert_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">item_definition</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inserts an item under a specified parent in the asset tree.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent_path (str): The path of the parent node where the item should be inserted.</span>
<span class="sd">            item_definition (dict): A dictionary defining the item&#39;s attributes.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If there is an error inserting the item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 [DEBUG] insert_item() called with parent_path=&#39;</span><span class="si">{</span><span class="n">parent_path</span><span class="si">}</span><span class="s2">&#39;, item_definition=</span><span class="si">{</span><span class="n">item_definition</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Ensure &#39;FormulaParams&#39; is parsed correctly</span>
            <span class="k">if</span> <span class="s2">&quot;FormulaParams&quot;</span> <span class="ow">in</span> <span class="n">item_definition</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;FormulaParams&quot;</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;FormulaParams&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;FormulaParams&quot;</span><span class="p">])</span>
                <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ FormulaParams must be a valid JSON object.&quot;</span><span class="p">)</span>

            <span class="c1"># Fix formula formatting</span>
            <span class="k">if</span> <span class="s2">&quot;Formula&quot;</span> <span class="ow">in</span> <span class="n">item_definition</span><span class="p">:</span>
                <span class="n">formula</span> <span class="o">=</span> <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Formula&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">formula</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">formula</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">formula</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)):</span>
                    <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Formula&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">formula</span><span class="si">}</span><span class="s1">&quot;&#39;</span>

            <span class="c1"># Ensure &#39;Path&#39; is set correctly</span>
            <span class="k">if</span> <span class="s2">&quot;Path&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">item_definition</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Path&quot;</span><span class="p">]:</span>
                <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parent_path</span>

            <span class="c1"># Insert into the tree</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">item_definition</span><span class="p">],</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent_path</span><span class="p">)</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully inserted &#39;</span><span class="si">{</span><span class="n">item_definition</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; under &#39;</span><span class="si">{</span><span class="n">parent_path</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="c1"># PUSH TO SEEQ IF STRATEGY IS ENABLED</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">:</span>
                <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;🚀 [DEBUG] Executing push strategy after insert...&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="s2">&quot;Output/asset_tree_metadata_state_file.pickle.zip&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] insert_item() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error inserting item: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">move_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Moves an item to a new parent in the tree.</span>

<span class="sd">        Args:</span>
<span class="sd">            source (str): The current path of the item.</span>
<span class="sd">            destination (str): The new parent path where the item should be moved.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If there is an error moving the item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 [DEBUG] move_item() called: source=&#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39;, destination=&#39;</span><span class="si">{</span><span class="n">destination</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">)</span>

            <span class="c1"># PUSH TO SEEQ IF STRATEGY IS ENABLED</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">:</span>
                <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;🚀 [DEBUG] Executing push strategy after move...&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="s2">&quot;Output/asset_tree_metadata_state_file.pickle.zip&quot;</span><span class="p">)</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully moved &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">destination</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] move_item() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error moving item: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes an item from the tree by its full path.</span>

<span class="sd">        Args:</span>
<span class="sd">            item_path (str): The full path of the item to be removed.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If there is an error removing the item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🗑️ Removing item at path: </span><span class="si">{</span><span class="n">item_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item_path</span><span class="p">)</span>

            <span class="c1"># PUSH TO SEEQ IF STRATEGY IS ENABLED</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">:</span>
                <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;🚀 [DEBUG] Executing push strategy after remove...&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="s2">&quot;Output/asset_tree_metadata_state_file.pickle.zip&quot;</span><span class="p">)</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully removed &#39;</span><span class="si">{</span><span class="n">item_path</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] remove_item() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error removing item: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visualize_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Visualizes the tree structure and captures the output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: A structured tree visualization.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree has not been loaded or an error occurs during visualization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ Tree is not loaded. Call &#39;load_tree()&#39; first.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tree object type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tree dir(): </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">visualization_output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualization_output</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>

            <span class="n">visualization</span> <span class="o">=</span> <span class="n">visualization_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">visualization</span><span class="p">:</span>
                <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;⚠️ [DEBUG] Visualization is empty, falling back to `summarize()`&quot;</span><span class="p">)</span>
                <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualization_output</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">summarize</span><span class="p">()</span>
                <span class="n">visualization</span> <span class="o">=</span> <span class="n">visualization_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Captured Tree Visualization:</span><span class="se">\n</span><span class="si">{</span><span class="n">visualization</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧩 Tree has children? </span><span class="si">{</span><span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;children&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧩 Number of children: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;children&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">visualization</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;⚠️ Error generating visualization: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;⚠️ Error generating visualization: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_changes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pushes the tree using the selected push strategy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">push_manager</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">archive_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Archives all items in the current tree using their IDs.</span>

<span class="sd">        This is the safest way to &#39;delete&#39; a tree, since Seeq does not support direct root deletion.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tree is empty or items could not be found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Archiving all items in tree: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Find the root asset by name</span>
            <span class="n">root_result</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">({</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Asset&quot;</span><span class="p">})</span>

            <span class="k">if</span> <span class="n">root_result</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Root asset &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>

            <span class="c1"># Grab the ID of the root and search all associated items</span>
            <span class="n">root_id</span> <span class="o">=</span> <span class="n">root_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;ID&quot;</span><span class="p">]</span>
            <span class="n">items_in_tree</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
                <span class="p">[{</span><span class="s2">&quot;Asset&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;ID&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">}],</span>
                <span class="n">workbook</span><span class="o">=</span><span class="n">spy</span><span class="o">.</span><span class="n">GLOBALS_AND_ALL_WORKBOOKS</span><span class="p">,</span>
                <span class="n">all_properties</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">items_in_tree</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No items found under tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to archive.&quot;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="n">items_in_tree</span><span class="p">[</span><span class="s2">&quot;Archived&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">items_in_tree</span><span class="p">)</span>

            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; archived successfully.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to archive tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Archive operation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">,</span> <span class="n">push_strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreeModifier with a specified workbook, tree name, and push strategy.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>workbook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree to be modified.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>push_strategy</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PushStrategy (itv_asset_tree.core.push_strategies.PushStrategy)" href="#itv_asset_tree.core.push_strategies.PushStrategy">PushStrategy</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The strategy to use when pushing changes. Defaults to ImmediatePush.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workbook</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">push_strategy</span><span class="p">:</span> <span class="n">PushStrategy</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreeModifier with a specified workbook, tree name, and push strategy.</span>

<span class="sd">    Args:</span>
<span class="sd">        workbook (str): The name of the workbook containing the tree.</span>
<span class="sd">        tree_name (str): The name of the tree to be modified.</span>
<span class="sd">        push_strategy (PushStrategy, optional): The strategy to use when pushing changes. Defaults to ImmediatePush.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="n">TreeLoader</span><span class="p">(</span><span class="n">workbook</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">)</span>  
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">load_tree</span><span class="p">()</span> 
    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Tree loaded: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧩 Available methods: </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Store push strategy as a class attribute (this was missing!)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span> <span class="o">=</span> <span class="n">push_strategy</span> <span class="k">if</span> <span class="n">push_strategy</span> <span class="k">else</span> <span class="n">ImmediatePush</span><span class="p">()</span>

    <span class="c1"># Initialize PushManager with the selected push strategy</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push_manager</span> <span class="o">=</span> <span class="n">PushManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.archive_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">archive_tree</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.archive_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Archives all items in the current tree using their IDs.</p>
<p>This is the safest way to 'delete' a tree, since Seeq does not support direct root deletion.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree is empty or items could not be found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">archive_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Archives all items in the current tree using their IDs.</span>

<span class="sd">    This is the safest way to &#39;delete&#39; a tree, since Seeq does not support direct root deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree is empty or items could not be found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Archiving all items in tree: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Find the root asset by name</span>
        <span class="n">root_result</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">({</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Asset&quot;</span><span class="p">})</span>

        <span class="k">if</span> <span class="n">root_result</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Root asset &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>

        <span class="c1"># Grab the ID of the root and search all associated items</span>
        <span class="n">root_id</span> <span class="o">=</span> <span class="n">root_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;ID&quot;</span><span class="p">]</span>
        <span class="n">items_in_tree</span> <span class="o">=</span> <span class="n">spy</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
            <span class="p">[{</span><span class="s2">&quot;Asset&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;ID&quot;</span><span class="p">:</span> <span class="n">root_id</span><span class="p">}],</span>
            <span class="n">workbook</span><span class="o">=</span><span class="n">spy</span><span class="o">.</span><span class="n">GLOBALS_AND_ALL_WORKBOOKS</span><span class="p">,</span>
            <span class="n">all_properties</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">items_in_tree</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ No items found under tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to archive.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">items_in_tree</span><span class="p">[</span><span class="s2">&quot;Archived&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">spy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">items_in_tree</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; archived successfully.&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to archive tree &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Archive operation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.insert_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">insert_item</span><span class="p">(</span><span class="n">parent_path</span><span class="p">,</span> <span class="n">item_definition</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.insert_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Inserts an item under a specified parent in the asset tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parent_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path of the parent node where the item should be inserted.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>item_definition</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary defining the item's attributes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is an error inserting the item.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">insert_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">item_definition</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Inserts an item under a specified parent in the asset tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent_path (str): The path of the parent node where the item should be inserted.</span>
<span class="sd">        item_definition (dict): A dictionary defining the item&#39;s attributes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If there is an error inserting the item.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 [DEBUG] insert_item() called with parent_path=&#39;</span><span class="si">{</span><span class="n">parent_path</span><span class="si">}</span><span class="s2">&#39;, item_definition=</span><span class="si">{</span><span class="n">item_definition</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Ensure &#39;FormulaParams&#39; is parsed correctly</span>
        <span class="k">if</span> <span class="s2">&quot;FormulaParams&quot;</span> <span class="ow">in</span> <span class="n">item_definition</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;FormulaParams&quot;</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;FormulaParams&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;FormulaParams&quot;</span><span class="p">])</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ FormulaParams must be a valid JSON object.&quot;</span><span class="p">)</span>

        <span class="c1"># Fix formula formatting</span>
        <span class="k">if</span> <span class="s2">&quot;Formula&quot;</span> <span class="ow">in</span> <span class="n">item_definition</span><span class="p">:</span>
            <span class="n">formula</span> <span class="o">=</span> <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Formula&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">formula</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">formula</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">formula</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)):</span>
                <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Formula&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">formula</span><span class="si">}</span><span class="s1">&quot;&#39;</span>

        <span class="c1"># Ensure &#39;Path&#39; is set correctly</span>
        <span class="k">if</span> <span class="s2">&quot;Path&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">item_definition</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Path&quot;</span><span class="p">]:</span>
            <span class="n">item_definition</span><span class="p">[</span><span class="s2">&quot;Path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parent_path</span>

        <span class="c1"># Insert into the tree</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">item_definition</span><span class="p">],</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent_path</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully inserted &#39;</span><span class="si">{</span><span class="n">item_definition</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; under &#39;</span><span class="si">{</span><span class="n">parent_path</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="c1"># PUSH TO SEEQ IF STRATEGY IS ENABLED</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;🚀 [DEBUG] Executing push strategy after insert...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="s2">&quot;Output/asset_tree_metadata_state_file.pickle.zip&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] insert_item() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error inserting item: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.move_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move_item</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.move_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Moves an item to a new parent in the tree.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current path of the item.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>destination</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new parent path where the item should be moved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is an error moving the item.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">move_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Moves an item to a new parent in the tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        source (str): The current path of the item.</span>
<span class="sd">        destination (str): The new parent path where the item should be moved.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If there is an error moving the item.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 [DEBUG] move_item() called: source=&#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39;, destination=&#39;</span><span class="si">{</span><span class="n">destination</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">)</span>

        <span class="c1"># PUSH TO SEEQ IF STRATEGY IS ENABLED</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;🚀 [DEBUG] Executing push strategy after move...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="s2">&quot;Output/asset_tree_metadata_state_file.pickle.zip&quot;</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully moved &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">destination</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] move_item() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error moving item: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.remove_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_item</span><span class="p">(</span><span class="n">item_path</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.remove_item" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Removes an item from the tree by its full path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>item_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full path of the item to be removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is an error removing the item.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes an item from the tree by its full path.</span>

<span class="sd">    Args:</span>
<span class="sd">        item_path (str): The full path of the item to be removed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If there is an error removing the item.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🗑️ Removing item at path: </span><span class="si">{</span><span class="n">item_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item_path</span><span class="p">)</span>

        <span class="c1"># PUSH TO SEEQ IF STRATEGY IS ENABLED</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;🚀 [DEBUG] Executing push strategy after remove...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">push_strategy</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">metadata_state_file</span><span class="o">=</span><span class="s2">&quot;Output/asset_tree_metadata_state_file.pickle.zip&quot;</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Successfully removed &#39;</span><span class="si">{</span><span class="n">item_path</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] remove_item() failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error removing item: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.save_changes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_changes</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.save_changes" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Pushes the tree using the selected push strategy.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save_changes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pushes the tree using the selected push strategy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">push_manager</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_modifier.TreeModifier.visualize_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">visualize_tree</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_modifier.TreeModifier.visualize_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Visualizes the tree structure and captures the output.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A structured tree visualization.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tree has not been loaded or an error occurs during visualization.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_modifier.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">visualize_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualizes the tree structure and captures the output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: A structured tree visualization.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tree has not been loaded or an error occurs during visualization.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;❌ Tree is not loaded. Call &#39;load_tree()&#39; first.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tree object type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tree dir(): </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">visualization_output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualization_output</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>

        <span class="n">visualization</span> <span class="o">=</span> <span class="n">visualization_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">visualization</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;⚠️ [DEBUG] Visualization is empty, falling back to `summarize()`&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualization_output</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">summarize</span><span class="p">()</span>
            <span class="n">visualization</span> <span class="o">=</span> <span class="n">visualization_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🌳 Captured Tree Visualization:</span><span class="se">\n</span><span class="si">{</span><span class="n">visualization</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧩 Tree has children? </span><span class="si">{</span><span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;children&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧩 Number of children: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;children&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">visualization</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;⚠️ Error generating visualization: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;⚠️ Error generating visualization: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_property_manager"></a>
    <div class="doc doc-contents first">

        <p>Provides the TreePropertyManager class for applying metadata-based property updates to Seeq asset trees.</p>
<p>This class modifies existing asset items based on structured metadata and commits changes to the tree.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_property_manager.TreePropertyManager" class="doc doc-heading">
            <code>TreePropertyManager</code>


<a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Handles applying properties to asset tree items.</p>
<p>This class allows for modifying existing items in the asset tree by updating their properties
based on provided metadata.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_property_manager.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreePropertyManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles applying properties to asset tree items.</span>

<span class="sd">    This class allows for modifying existing items in the asset tree by updating their properties</span>
<span class="sd">    based on provided metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreePropertyManager with a specified tree instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The asset tree to which properties will be applied.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">apply_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Applies properties to existing tree items based on provided metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (pd.DataFrame): A DataFrame containing metadata with property values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If there is an error during property application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No metadata available to apply properties.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
                <span class="n">item_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span>
                <span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">row</span><span class="o">.</span><span class="n">index</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Formula&quot;</span><span class="p">,</span> <span class="s2">&quot;FormulaParams&quot;</span><span class="p">,</span> <span class="s2">&quot;Parent&quot;</span><span class="p">]}</span>

                <span class="k">if</span> <span class="n">properties</span><span class="p">:</span>
                    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 Applying properties to &#39;</span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="n">item_name</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
            <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ Properties applied and tree updated!&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error applying properties: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_property_manager.TreePropertyManager.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreePropertyManager with a specified tree instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asset tree to which properties will be applied.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_property_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreePropertyManager with a specified tree instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree: The asset tree to which properties will be applied.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_property_manager.TreePropertyManager.apply_properties" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_properties</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_property_manager.TreePropertyManager.apply_properties" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Applies properties to existing tree items based on provided metadata.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="pd.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing metadata with property values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is an error during property application.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_property_manager.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">apply_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Applies properties to existing tree items based on provided metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (pd.DataFrame): A DataFrame containing metadata with property values.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If there is an error during property application.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No metadata available to apply properties.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
            <span class="n">item_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">row</span><span class="o">.</span><span class="n">index</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Formula&quot;</span><span class="p">,</span> <span class="s2">&quot;FormulaParams&quot;</span><span class="p">,</span> <span class="s2">&quot;Parent&quot;</span><span class="p">]}</span>

            <span class="k">if</span> <span class="n">properties</span><span class="p">:</span>
                <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📌 Applying properties to &#39;</span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="n">item_name</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ Properties applied and tree updated!&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Error applying properties: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.core.tree_visualizer"></a>
    <div class="doc doc-contents first">

        <p>Provides the TreeVisualizer class for rendering Seeq asset trees as formatted string output.</p>
<p>The visualizer caches the last fetched tree to avoid redundant API calls and supports both
in-memory visualization and live tree retrieval using a TreeModifier.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.core.tree_visualizer.TreeVisualizer" class="doc doc-heading">
            <code>TreeVisualizer</code>


<a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Handles visualization of Seeq trees, including in-memory and fetched versions.</p>
<p>This class facilitates fetching and storing tree visualizations to optimize performance
and minimize redundant API calls.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/core/tree_visualizer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeVisualizer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles visualization of Seeq trees, including in-memory and fetched versions.</span>

<span class="sd">    This class facilitates fetching and storing tree visualizations to optimize performance</span>
<span class="sd">    and minimize redundant API calls.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the TreeVisualizer instance.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            current_tree: Stores the latest fetched tree to prevent redundant API calls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Stores the latest fetched tree to prevent redundant API calls</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_tree_visualization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the latest tree visualization from memory or Seeq.</span>

<span class="sd">        Note: In the accelerator template context, `tree_name` refers to the region name.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree_name (str): The name of the tree (region name in some contexts) to visualize.</span>
<span class="sd">            workbook_name (str): The name of the workbook containing the tree.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The tree visualization output as a formatted string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [DEBUG] Received visualization request for Tree: </span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">, Workbook: </span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Check if we already have the tree in memory</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">tree_name</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;✅ [DEBUG] Returning in-memory tree visualization.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capture_visualization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span><span class="p">)</span>

        <span class="c1"># Fetch the tree from Seeq if not available in memory</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_and_visualize_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_fetch_and_visualize_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches the tree from Seeq, stores it in memory, and visualizes it.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree_name (str): The name of the tree to fetch.</span>
<span class="sd">            workbook_name (str): The name of the workbook containing the tree.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The tree visualization output, or None if the tree is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 [DEBUG] Fetching tree from Seeq: </span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">tree_modifier</span> <span class="o">=</span> <span class="n">TreeModifierFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">workbook</span><span class="o">=</span><span class="n">workbook_name</span><span class="p">,</span> <span class="n">tree_name</span><span class="o">=</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="s2">&quot;search&quot;</span><span class="p">)</span>
            <span class="n">fetched_tree</span> <span class="o">=</span> <span class="n">tree_modifier</span><span class="o">.</span><span class="n">tree</span>  <span class="c1"># Load tree properly</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">fetched_tree</span><span class="p">:</span>
                <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [DEBUG] Tree &#39;</span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&#39; not found!&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># Return None instead of an error dict (handled in the API)</span>

            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ [DEBUG] Successfully fetched tree: </span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Update in-memory reference</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span> <span class="o">=</span> <span class="n">fetched_tree</span>  

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capture_visualization</span><span class="p">(</span><span class="n">fetched_tree</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ [ERROR] Failed to visualize tree: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># Let the API layer handle error response</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_capture_visualization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Captures tree visualization as a string output.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree: The tree object to visualize.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The tree visualization output as a formatted string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">visualization_output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">redirect_stdout</span><span class="p">(</span><span class="n">visualization_output</span><span class="p">):</span>
            <span class="n">tree</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span> 
        <span class="n">visualization</span> <span class="o">=</span> <span class="n">visualization_output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📊 [DEBUG] Tree Visualization Output:</span><span class="se">\n</span><span class="si">{</span><span class="n">visualization</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">visualization</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_visualizer.TreeVisualizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

<a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the TreeVisualizer instance.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.core.tree_visualizer.TreeVisualizer.__init__.current_tree">current_tree</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Stores the latest fetched tree to prevent redundant API calls.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_visualizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the TreeVisualizer instance.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        current_tree: Stores the latest fetched tree to prevent redundant API calls.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Stores the latest fetched tree to prevent redundant API calls</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.core.tree_visualizer.TreeVisualizer.get_tree_visualization" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_tree_visualization</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span></code>

<a href="#itv_asset_tree.core.tree_visualizer.TreeVisualizer.get_tree_visualization" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Retrieves the latest tree visualization from memory or Seeq.</p>
<p>Note: In the accelerator template context, <code>tree_name</code> refers to the region name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tree_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the tree (region name in some contexts) to visualize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workbook_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook containing the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree visualization output as a formatted string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/core/tree_visualizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_tree_visualization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves the latest tree visualization from memory or Seeq.</span>

<span class="sd">    Note: In the accelerator template context, `tree_name` refers to the region name.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_name (str): The name of the tree (region name in some contexts) to visualize.</span>
<span class="sd">        workbook_name (str): The name of the workbook containing the tree.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The tree visualization output as a formatted string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 [DEBUG] Received visualization request for Tree: </span><span class="si">{</span><span class="n">tree_name</span><span class="si">}</span><span class="s2">, Workbook: </span><span class="si">{</span><span class="n">workbook_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Check if we already have the tree in memory</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">tree_name</span><span class="p">:</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;✅ [DEBUG] Returning in-memory tree visualization.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capture_visualization</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_tree</span><span class="p">)</span>

    <span class="c1"># Fetch the tree from Seeq if not available in memory</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_and_visualize_tree</span><span class="p">(</span><span class="n">tree_name</span><span class="p">,</span> <span class="n">workbook_name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.schemas.csv_lookup"></a>
    <div class="doc doc-contents first">

        <p>Defines Pydantic models for CSV lookup request and response schemas.</p>
<p>Used in API endpoints for uploading and processing CSV files into structured dictionaries.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.schemas.csv_lookup.CSVLookupRequest" class="doc doc-heading">
            <code>CSVLookupRequest</code>


<a href="#itv_asset_tree.schemas.csv_lookup.CSVLookupRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for handling CSV lookup requests.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.schemas.csv_lookup.CSVLookupRequest.csv_file_path">csv_file_path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to the CSV file being processed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/schemas/csv_lookup.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CSVLookupRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for handling CSV lookup requests.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        csv_file_path (str): The file path to the CSV file being processed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">csv_file_path</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.schemas.csv_lookup.CSVLookupResponse" class="doc doc-heading">
            <code>CSVLookupResponse</code>


<a href="#itv_asset_tree.schemas.csv_lookup.CSVLookupResponse" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for CSV lookup responses.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.schemas.csv_lookup.CSVLookupResponse.data">data</span></code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parsed data extracted from the CSV file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/schemas/csv_lookup.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CSVLookupResponse</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for CSV lookup responses.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (dict): The parsed data extracted from the CSV file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.schemas.tree"></a>
    <div class="doc doc-contents first">

        <p>Defines request schema models related to asset tree operations.</p>
<p>Includes models for creating, modifying, and interacting with asset trees in Seeq.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.schemas.tree.TreeCreateRequest" class="doc doc-heading">
            <code>TreeCreateRequest</code>


<a href="#itv_asset_tree.schemas.tree.TreeCreateRequest" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new asset tree in Seeq.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.schemas.tree.TreeCreateRequest.workbook_name">workbook_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the workbook where the tree will be created.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="itv_asset_tree.schemas.tree.TreeCreateRequest.csv_file_path">csv_file_path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to the CSV file containing the tree structure.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/schemas/tree.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeCreateRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new asset tree in Seeq.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        workbook_name (str): The name of the workbook where the tree will be created.</span>
<span class="sd">        csv_file_path (str): The file path to the CSV file containing the tree structure.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workbook_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">csv_file_path</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><!-- ::: itv_asset_tree.schemas.users -->



<div class="doc doc-object doc-module">



<a id="itv_asset_tree.templates.hvac_template"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.hvac_template.Compressor" class="doc doc-heading">
            <code>Compressor</code>


<a href="#itv_asset_tree.templates.hvac_template.Compressor" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Represents a Compressor asset with power and condition attributes.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Compressor</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a Compressor asset with power and condition attributes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the power signal for the compressor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Filtered metadata containing power signals.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Each compressor has just a single attribute, Power</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Power&#39;</span><span class="p">)]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">High_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identifies when the compressor power exceeds 20kW.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Condition: A condition representing high power usage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$a.valueSearch(isGreaterThan(20kW))&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;$a&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Power</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Other_Compressors_Are_High_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines if other sibling Compressors are also in high power state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Condition: A rolled-up union condition across sibling Compressors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># This is a more complex example of using self.all_assets() where we want to</span>
        <span class="c1"># look at sibling assets as opposed to parents/children, and do a roll up.</span>
        <span class="c1"># Here the &quot;if&quot; statement selects Compressor assets where our parent and</span>
        <span class="c1"># their parent are the same but we exclude ourselves.</span>
        <span class="k">return</span> <span class="n">ItemGroup</span><span class="p">([</span>
            <span class="n">asset</span><span class="o">.</span><span class="n">High_Power</span><span class="p">()</span> <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_assets</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="n">Compressor</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">==</span> <span class="n">asset</span><span class="o">.</span><span class="n">parent</span> <span class="ow">and</span> <span class="bp">self</span> <span class="o">!=</span> <span class="n">asset</span>
        <span class="p">])</span><span class="o">.</span><span class="n">roll_up</span><span class="p">(</span><span class="s1">&#39;union&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Compressor.High_Power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">High_Power</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Compressor.High_Power" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Identifies when the compressor power exceeds 20kW.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Condition</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A condition representing high power usage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">High_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Identifies when the compressor power exceeds 20kW.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Condition: A condition representing high power usage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$a.valueSearch(isGreaterThan(20kW))&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;$a&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Power</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Compressor.Other_Compressors_Are_High_Power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Other_Compressors_Are_High_Power</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Compressor.Other_Compressors_Are_High_Power" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Determines if other sibling Compressors are also in high power state.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Condition</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A rolled-up union condition across sibling Compressors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Other_Compressors_Are_High_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if other sibling Compressors are also in high power state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Condition: A rolled-up union condition across sibling Compressors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># This is a more complex example of using self.all_assets() where we want to</span>
    <span class="c1"># look at sibling assets as opposed to parents/children, and do a roll up.</span>
    <span class="c1"># Here the &quot;if&quot; statement selects Compressor assets where our parent and</span>
    <span class="c1"># their parent are the same but we exclude ourselves.</span>
    <span class="k">return</span> <span class="n">ItemGroup</span><span class="p">([</span>
        <span class="n">asset</span><span class="o">.</span><span class="n">High_Power</span><span class="p">()</span> <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_assets</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="n">Compressor</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">==</span> <span class="n">asset</span><span class="o">.</span><span class="n">parent</span> <span class="ow">and</span> <span class="bp">self</span> <span class="o">!=</span> <span class="n">asset</span>
    <span class="p">])</span><span class="o">.</span><span class="n">roll_up</span><span class="p">(</span><span class="s1">&#39;union&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Compressor.Power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Power</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Compressor.Power" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Retrieves the power signal for the compressor.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filtered metadata containing power signals.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves the power signal for the compressor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Filtered metadata containing power signals.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Each compressor has just a single attribute, Power</span>
    <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Power&#39;</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.hvac_template.Facility" class="doc doc-heading">
            <code>Facility</code>


<a href="#itv_asset_tree.templates.hvac_template.Facility" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Represents a Facility containing one or more Sections.</p>


<details class="components" open>
  <summary>Components</summary>
  <p>Sections (AssetGroup): Grouped by the 'Section' column, these define the internal structure of the Facility.</p>
</details>






              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Facility</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a Facility containing one or more Sections.</span>

<span class="sd">    Components:</span>
<span class="sd">        Sections (AssetGroup): Grouped by the &#39;Section&#39; column, these define the internal structure of the Facility.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assigns Section components to the Facility.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (DataFrame): Signal metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            AssetGroup: Group of Sections based on the &#39;Section&#39; column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Section</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Section&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Facility.Sections" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Sections</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Facility.Sections" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Assigns Section components to the Facility.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AssetGroup</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Group of Sections based on the 'Section' column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Sections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assigns Section components to the Facility.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (DataFrame): Signal metadata.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AssetGroup: Group of Sections based on the &#39;Section&#39; column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Section</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Section&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.hvac_template.Refrigerator" class="doc doc-heading">
            <code>Refrigerator</code>


<a href="#itv_asset_tree.templates.hvac_template.Refrigerator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Represents a Refrigerator asset with temperature and compressor attributes.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Refrigerator</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a Refrigerator asset with temperature and compressor attributes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the temperature signals associated with the Refrigerator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Filtered metadata containing temperature signals.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># This signal attribute is assigned to the Refrigerator asset</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Temperature&#39;</span><span class="p">)]</span>

    <span class="c1"># Note the use of Asset.Component here, which allows us to return a list of definitions</span>
    <span class="c1"># instead of just a single definition.</span>
    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assigns Compressor components to the Refrigerator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            AssetGroup: A group of Compressor assets built from the metadata using the &#39;Compressor&#39; column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Using the Compressor template class, we build all of the compressor definitions</span>
        <span class="c1"># associated with a particular Refrigerator. The column_name supplied tells the</span>
        <span class="c1"># build_components function which metadata column to use for the Compressor names.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="n">Compressor</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Compressor&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressor_Power_Max</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the maximum compressor power across all child Compressors.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Signal: A rolled-up signal representing the maximum compressor power.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># We can refer to the Compressors and &quot;pick&quot; attributes for which to perform a</span>
        <span class="c1"># roll up. In this example, we&#39;re picking the &#39;Power&#39; signals that are on each</span>
        <span class="c1"># compressor and creating a new signal representing the maximum power across</span>
        <span class="c1"># all the compressors.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Compressors</span><span class="p">()</span><span class="o">.</span><span class="n">pick</span><span class="p">({</span>
            <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Power&#39;</span>
        <span class="p">})</span><span class="o">.</span><span class="n">roll_up</span><span class="p">(</span><span class="s1">&#39;maximum&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressor_High_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines if any child Compressor has a high power condition.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Condition: A union of &#39;High Power&#39; conditions from all child Compressors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Similar to Compressor_Power_Max, we are rolling up a compressor calculation but</span>
        <span class="c1"># this time it&#39;s a condition. &#39;High Power&#39; at the Refrigerator level will have</span>
        <span class="c1"># capsules if either compressor&#39;s &#39;High Power&#39; condition is present.</span>
        <span class="c1">#</span>
        <span class="c1"># This time we&#39;ll use a different method of picking the child items than we used</span>
        <span class="c1"># in Compressor_Power_Max() above. In this case, we&#39;re going to select the set of</span>
        <span class="c1"># compressors that are owned by this asset from the entire set of assets, and use</span>
        <span class="c1"># Python conditional logic to find the &quot;High Power&quot; conditions. What you see</span>
        <span class="c1"># below is called a Python &quot;list comprehension&quot; that combines iteration over all</span>
        <span class="c1"># assets (the &quot;for/in&quot; construct) with filtering (the &quot;if&quot; statement).</span>
        <span class="c1">#</span>
        <span class="c1"># Helpful functions:</span>
        <span class="c1">#  asset.is_child_of(self)      - Is the asset one of my direct children?</span>
        <span class="c1">#  asset.is_parent_of(self)     - Is the asset my direct parent?</span>
        <span class="c1">#  asset.is_descendant_of(self) - Is the asset below me in the tree?</span>
        <span class="c1">#  asset.is_ancestor_of(self)   - Is the asset above me? (i.e. parent/grandparent/great-grandparent/etc)</span>
        <span class="c1">#</span>
        <span class="k">return</span> <span class="n">ItemGroup</span><span class="p">([</span>
            <span class="n">asset</span><span class="o">.</span><span class="n">High_Power</span><span class="p">()</span> <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_assets</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">asset</span><span class="o">.</span><span class="n">is_child_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span><span class="n">roll_up</span><span class="p">(</span><span class="s1">&#39;union&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_High_Power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Compressor_High_Power</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_High_Power" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Determines if any child Compressor has a high power condition.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Condition</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A union of 'High Power' conditions from all child Compressors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Compressor_High_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determines if any child Compressor has a high power condition.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Condition: A union of &#39;High Power&#39; conditions from all child Compressors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Similar to Compressor_Power_Max, we are rolling up a compressor calculation but</span>
    <span class="c1"># this time it&#39;s a condition. &#39;High Power&#39; at the Refrigerator level will have</span>
    <span class="c1"># capsules if either compressor&#39;s &#39;High Power&#39; condition is present.</span>
    <span class="c1">#</span>
    <span class="c1"># This time we&#39;ll use a different method of picking the child items than we used</span>
    <span class="c1"># in Compressor_Power_Max() above. In this case, we&#39;re going to select the set of</span>
    <span class="c1"># compressors that are owned by this asset from the entire set of assets, and use</span>
    <span class="c1"># Python conditional logic to find the &quot;High Power&quot; conditions. What you see</span>
    <span class="c1"># below is called a Python &quot;list comprehension&quot; that combines iteration over all</span>
    <span class="c1"># assets (the &quot;for/in&quot; construct) with filtering (the &quot;if&quot; statement).</span>
    <span class="c1">#</span>
    <span class="c1"># Helpful functions:</span>
    <span class="c1">#  asset.is_child_of(self)      - Is the asset one of my direct children?</span>
    <span class="c1">#  asset.is_parent_of(self)     - Is the asset my direct parent?</span>
    <span class="c1">#  asset.is_descendant_of(self) - Is the asset below me in the tree?</span>
    <span class="c1">#  asset.is_ancestor_of(self)   - Is the asset above me? (i.e. parent/grandparent/great-grandparent/etc)</span>
    <span class="c1">#</span>
    <span class="k">return</span> <span class="n">ItemGroup</span><span class="p">([</span>
        <span class="n">asset</span><span class="o">.</span><span class="n">High_Power</span><span class="p">()</span> <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_assets</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">asset</span><span class="o">.</span><span class="n">is_child_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">roll_up</span><span class="p">(</span><span class="s1">&#39;union&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_Power_Max" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Compressor_Power_Max</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressor_Power_Max" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Computes the maximum compressor power across all child Compressors.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Signal</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A rolled-up signal representing the maximum compressor power.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Compressor_Power_Max</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the maximum compressor power across all child Compressors.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Signal: A rolled-up signal representing the maximum compressor power.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We can refer to the Compressors and &quot;pick&quot; attributes for which to perform a</span>
    <span class="c1"># roll up. In this example, we&#39;re picking the &#39;Power&#39; signals that are on each</span>
    <span class="c1"># compressor and creating a new signal representing the maximum power across</span>
    <span class="c1"># all the compressors.</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Compressors</span><span class="p">()</span><span class="o">.</span><span class="n">pick</span><span class="p">({</span>
        <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Power&#39;</span>
    <span class="p">})</span><span class="o">.</span><span class="n">roll_up</span><span class="p">(</span><span class="s1">&#39;maximum&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Refrigerator.Compressors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Compressors</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Compressors" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Assigns Compressor components to the Refrigerator.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AssetGroup</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A group of Compressor assets built from the metadata using the 'Compressor' column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Compressors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assigns Compressor components to the Refrigerator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AssetGroup: A group of Compressor assets built from the metadata using the &#39;Compressor&#39; column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Using the Compressor template class, we build all of the compressor definitions</span>
    <span class="c1"># associated with a particular Refrigerator. The column_name supplied tells the</span>
    <span class="c1"># build_components function which metadata column to use for the Compressor names.</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="n">Compressor</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Compressor&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Refrigerator.Temperature" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Temperature</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Refrigerator.Temperature" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Returns the temperature signals associated with the Refrigerator.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filtered metadata containing temperature signals.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the temperature signals associated with the Refrigerator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Filtered metadata containing temperature signals.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># This signal attribute is assigned to the Refrigerator asset</span>
    <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Temperature&#39;</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.hvac_template.Region" class="doc doc-heading">
            <code>Region</code>


<a href="#itv_asset_tree.templates.hvac_template.Region" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>A Region represents the top-level node in the HVAC asset tree hierarchy.</p>


<details class="components" open>
  <summary>Components</summary>
  <p>Facilities (AssetGroup): Facility components grouped by the 'Facility' column.</p>
</details>






              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Region</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Region represents the top-level node in the HVAC asset tree hierarchy.</span>

<span class="sd">    Components:</span>
<span class="sd">        Facilities (AssetGroup): Facility components grouped by the &#39;Facility&#39; column.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Facilities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assigns Facility components to the Region.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (DataFrame): Signal metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            AssetGroup: Group of Facilities based on the &#39;Facility&#39; column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Facility</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Facility&#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_hierarchy_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns configuration for the HVAC hierarchy template.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Dictionary containing the entry point and hierarchy description.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;entry_point&quot;</span><span class="p">:</span> <span class="s2">&quot;Region&quot;</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Standard HVAC hierarchy: Region &gt; Facility &gt; Section &gt; Component&quot;</span>
        <span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_build_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specifies template-level build configuration flags.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Configuration flags used by the build system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;requires_component_column&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Region.Facilities" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Facilities</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Region.Facilities" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Assigns Facility components to the Region.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AssetGroup</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Group of Facilities based on the 'Facility' column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Facilities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assigns Facility components to the Region.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (DataFrame): Signal metadata.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AssetGroup: Group of Facilities based on the &#39;Facility&#39; column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Facility</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Facility&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Region.get_build_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_build_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.templates.hvac_template.Region.get_build_config" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Specifies template-level build configuration flags.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration flags used by the build system.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_build_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specifies template-level build configuration flags.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Configuration flags used by the build system.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;requires_component_column&quot;</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Region.get_hierarchy_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_hierarchy_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.templates.hvac_template.Region.get_hierarchy_config" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Returns configuration for the HVAC hierarchy template.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing the entry point and hierarchy description.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_hierarchy_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns configuration for the HVAC hierarchy template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary containing the entry point and hierarchy description.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;entry_point&quot;</span><span class="p">:</span> <span class="s2">&quot;Region&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Standard HVAC hierarchy: Region &gt; Facility &gt; Section &gt; Component&quot;</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.hvac_template.Section" class="doc doc-heading">
            <code>Section</code>


<a href="#itv_asset_tree.templates.hvac_template.Section" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>A Section contains HVAC-related signals, calculations, and KPIs.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Temperature(metadata) (itv_asset_tree.templates.hvac_template.Section.Temperature)" href="#itv_asset_tree.templates.hvac_template.Section.Temperature">Temperature</a></code></td>
            <td>
                  <code><span title="Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signals ending with 'Temperature'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity">Humidity</a></code></td>
            <td>
                  <code><span title="Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signals ending with 'Humidity'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Compressor_Power(metadata) (itv_asset_tree.templates.hvac_template.Section.Compressor_Power)" href="#itv_asset_tree.templates.hvac_template.Section.Compressor_Power">Compressor_Power</a></code></td>
            <td>
                  <code><span title="Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signals ending with 'Power'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Temperature_Rate_Of_Change(metadata) (itv_asset_tree.templates.hvac_template.Section.Temperature_Rate_Of_Change)" href="#itv_asset_tree.templates.hvac_template.Section.Temperature_Rate_Of_Change">Temperature_Rate_Of_Change</a></code></td>
            <td>
                  <code><span title="Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Calculated derivative of low-pass filtered temperature.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Too_Hot(metadata) (itv_asset_tree.templates.hvac_template.Section.Too_Hot)" href="#itv_asset_tree.templates.hvac_template.Section.Too_Hot">Too_Hot</a></code></td>
            <td>
                  <code><span title="Condition">Condition</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Condition where temperature exceeds a threshold.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Hot_Threshold(metadata) (itv_asset_tree.templates.hvac_template.Section.Hot_Threshold)" href="#itv_asset_tree.templates.hvac_template.Section.Hot_Threshold">Hot_Threshold</a></code></td>
            <td>
                  <code><span title="Scalar">Scalar</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Static threshold value of 80F.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Too_Humid(metadata) (itv_asset_tree.templates.hvac_template.Section.Too_Humid)" href="#itv_asset_tree.templates.hvac_template.Section.Too_Humid">Too_Humid</a></code></td>
            <td>
                  <code><span title="Condition">Condition</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Condition where humidity exceeds 70%.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity_Upper_Bound(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity_Upper_Bound)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Upper_Bound">Humidity_Upper_Bound</a></code></td>
            <td>
                  <code><span title="Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Humidity plus 10.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity_Lower_Bound(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity_Lower_Bound)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Lower_Bound">Humidity_Lower_Bound</a></code></td>
            <td>
                  <code><span title="Signal">Signal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Humidity minus 10.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity_Statistic_KPI(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity_Statistic_KPI)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Statistic_KPI">Humidity_Statistic_KPI</a></code></td>
            <td>
                  <code><span title="Metric">Metric</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>KPI for humidity range.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity_Simple_KPI(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity_Simple_KPI)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Simple_KPI">Humidity_Simple_KPI</a></code></td>
            <td>
                  <code><span title="Metric">Metric</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>KPI for humidity with thresholds.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity_Condition_KPI(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity_Condition_KPI)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Condition_KPI">Humidity_Condition_KPI</a></code></td>
            <td>
                  <code><span title="Metric">Metric</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>KPI for max humidity when too humid.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="Humidity_Continuous_KPI(metadata) (itv_asset_tree.templates.hvac_template.Section.Humidity_Continuous_KPI)" href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Continuous_KPI">Humidity_Continuous_KPI</a></code></td>
            <td>
                  <code><span title="Metric">Metric</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Continuous KPI for humidity.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Section</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Section contains HVAC-related signals, calculations, and KPIs.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        Temperature (Signal): Signals ending with &#39;Temperature&#39;.</span>
<span class="sd">        Humidity (Signal): Signals ending with &#39;Humidity&#39;.</span>
<span class="sd">        Compressor_Power (Signal): Signals ending with &#39;Power&#39;.</span>
<span class="sd">        Temperature_Rate_Of_Change (Signal): Calculated derivative of low-pass filtered temperature.</span>
<span class="sd">        Too_Hot (Condition): Condition where temperature exceeds a threshold.</span>
<span class="sd">        Hot_Threshold (Scalar): Static threshold value of 80F.</span>
<span class="sd">        Too_Humid (Condition): Condition where humidity exceeds 70%.</span>
<span class="sd">        Humidity_Upper_Bound (Signal): Humidity plus 10.</span>
<span class="sd">        Humidity_Lower_Bound (Signal): Humidity minus 10.</span>
<span class="sd">        Humidity_Statistic_KPI (Metric): KPI for humidity range.</span>
<span class="sd">        Humidity_Simple_KPI (Metric): KPI for humidity with thresholds.</span>
<span class="sd">        Humidity_Condition_KPI (Metric): KPI for max humidity when too humid.</span>
<span class="sd">        Humidity_Continuous_KPI (Metric): Continuous KPI for humidity.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves temperature signals associated with the section.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (DataFrame): Signal metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Filtered metadata for signals ending with &#39;Temperature&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Temperature&#39;</span><span class="p">)]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves humidity signals associated with the section.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (DataFrame): Signal metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Filtered metadata for signals ending with &#39;Humidity&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Humidity&#39;</span><span class="p">)]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressor_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves compressor power signals associated with the section.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata (DataFrame): Signal metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: Filtered metadata for signals ending with &#39;Power&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Power&#39;</span><span class="p">)]</span>

    <span class="c1"># Calculations</span>
    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Temperature_Rate_Of_Change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the rate of change of low-pass filtered temperature.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A signal definition with derivative formula.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Signal&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$temp.lowPassFilter(150min, 3min, 333).derivative() * 3600 s/h&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;$temp&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Temperature</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Too_Hot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a condition when temperature exceeds a threshold.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A condition definition based on a scalar threshold.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$temp.valueSearch(isGreaterThan($threshold))&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;$temp&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Temperature</span><span class="p">(),</span>
                <span class="s1">&#39;$threshold&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Hot_Threshold</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Hot_Threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Provides the scalar threshold for detecting high temperature.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A static scalar threshold of 80F.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;80F&#39;</span>
        <span class="p">}</span>

    <span class="c1"># Metrics</span>
    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Too_Humid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a condition when humidity exceeds 70%.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A condition definition based on a humidity threshold.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Too Humid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$relhumid.valueSearch(isGreaterThan(70%))&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;$relhumid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Upper_Bound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines a humidity signal upper bound (humidity + 10).</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A signal formula with a 10% offset above humidity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Signal&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Humidity Upper Bound&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$relhumid + 10&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;$relhumid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Lower_Bound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines a humidity signal lower bound (humidity - 10).</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A signal formula with a 10% offset below humidity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Signal&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Humidity Lower Bound&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$relhumid - 10&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;$relhumid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Statistic_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines a KPI metric for the range of humidity values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A metric measuring the humidity signal range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="s1">&#39;Statistic&#39;</span><span class="p">:</span> <span class="s1">&#39;Range&#39;</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Simple_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines a KPI with static high and low threshold values for humidity.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A metric with HiHi and LoLo thresholds based on humidity bounds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="s1">&#39;Thresholds&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;HiHi&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity_Upper_Bound</span><span class="p">(),</span>
                <span class="s1">&#39;LoLo&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity_Lower_Bound</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Condition_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines a KPI metric for the maximum humidity during &#39;Too Humid&#39; conditions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A KPI metric bounded by the &#39;Too Humid&#39; condition with max stat.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="s1">&#39;Statistic&#39;</span><span class="p">:</span> <span class="s1">&#39;Maximum&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Bounding Condition&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Too_Humid</span><span class="p">(),</span>
            <span class="s1">&#39;Bounding Condition Maximum Duration&#39;</span><span class="p">:</span> <span class="s1">&#39;30h&#39;</span>
        <span class="p">}</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Continuous_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines a continuous KPI metric for minimum humidity over a rolling time window.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A KPI metric with thresholds and duration configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
            <span class="s1">&#39;Statistic&#39;</span><span class="p">:</span> <span class="s1">&#39;Minimum&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Duration&#39;</span><span class="p">:</span> <span class="s1">&#39;6h&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Period&#39;</span><span class="p">:</span> <span class="s1">&#39;4h&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Metric Neutral Color&#39;</span><span class="p">:</span> <span class="s1">&#39;#189E4D&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Thresholds&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;HiHiHi#FF0000&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
                <span class="s1">&#39;HiHi&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
                <span class="s1">&#39;LoLo#0000ff&#39;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="c1"># NEW: Assign Components to Sections</span>
    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assigns Compressor components to this Section if they exist.</span>

<span class="sd">        Returns:</span>
<span class="sd">            AssetGroup: Compressors assigned to this section by the &#39;Component&#39; column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Compressor</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Refrigerators</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assigns Refrigerator components to this Section if they exist.</span>

<span class="sd">        Returns:</span>
<span class="sd">            AssetGroup: Refrigerators assigned to this section by the &#39;Component&#39; column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Refrigerator</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Compressor_Power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Compressor_Power</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Compressor_Power" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Retrieves compressor power signals associated with the section.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filtered metadata for signals ending with 'Power'.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Compressor_Power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves compressor power signals associated with the section.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (DataFrame): Signal metadata.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Filtered metadata for signals ending with &#39;Power&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Power&#39;</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Compressors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Compressors</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Compressors" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Assigns Compressor components to this Section if they exist.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AssetGroup</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Compressors assigned to this section by the 'Component' column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Compressors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assigns Compressor components to this Section if they exist.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AssetGroup: Compressors assigned to this section by the &#39;Component&#39; column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Compressor</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Hot_Threshold" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Hot_Threshold</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Hot_Threshold" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Provides the scalar threshold for detecting high temperature.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A static scalar threshold of 80F.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Hot_Threshold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides the scalar threshold for detecting high temperature.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A static scalar threshold of 80F.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Scalar&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;80F&#39;</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Retrieves humidity signals associated with the section.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filtered metadata for signals ending with 'Humidity'.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves humidity signals associated with the section.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (DataFrame): Signal metadata.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Filtered metadata for signals ending with &#39;Humidity&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Humidity&#39;</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity_Condition_KPI" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity_Condition_KPI</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Condition_KPI" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Defines a KPI metric for the maximum humidity during 'Too Humid' conditions.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A KPI metric bounded by the 'Too Humid' condition with max stat.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Condition_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a KPI metric for the maximum humidity during &#39;Too Humid&#39; conditions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A KPI metric bounded by the &#39;Too Humid&#39; condition with max stat.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="s1">&#39;Statistic&#39;</span><span class="p">:</span> <span class="s1">&#39;Maximum&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Bounding Condition&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Too_Humid</span><span class="p">(),</span>
        <span class="s1">&#39;Bounding Condition Maximum Duration&#39;</span><span class="p">:</span> <span class="s1">&#39;30h&#39;</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity_Continuous_KPI" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity_Continuous_KPI</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Continuous_KPI" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Defines a continuous KPI metric for minimum humidity over a rolling time window.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A KPI metric with thresholds and duration configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Continuous_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a continuous KPI metric for minimum humidity over a rolling time window.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A KPI metric with thresholds and duration configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="s1">&#39;Statistic&#39;</span><span class="p">:</span> <span class="s1">&#39;Minimum&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Duration&#39;</span><span class="p">:</span> <span class="s1">&#39;6h&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Period&#39;</span><span class="p">:</span> <span class="s1">&#39;4h&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Metric Neutral Color&#39;</span><span class="p">:</span> <span class="s1">&#39;#189E4D&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Thresholds&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;HiHiHi#FF0000&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
            <span class="s1">&#39;HiHi&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
            <span class="s1">&#39;LoLo#0000ff&#39;</span><span class="p">:</span> <span class="mi">20</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity_Lower_Bound" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity_Lower_Bound</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Lower_Bound" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Defines a humidity signal lower bound (humidity - 10).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A signal formula with a 10% offset below humidity.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Lower_Bound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a humidity signal lower bound (humidity - 10).</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A signal formula with a 10% offset below humidity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Signal&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Humidity Lower Bound&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$relhumid - 10&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;$relhumid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity_Simple_KPI" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity_Simple_KPI</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Simple_KPI" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Defines a KPI with static high and low threshold values for humidity.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A metric with HiHi and LoLo thresholds based on humidity bounds.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Simple_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a KPI with static high and low threshold values for humidity.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A metric with HiHi and LoLo thresholds based on humidity bounds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="s1">&#39;Thresholds&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;HiHi&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity_Upper_Bound</span><span class="p">(),</span>
            <span class="s1">&#39;LoLo&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity_Lower_Bound</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity_Statistic_KPI" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity_Statistic_KPI</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Statistic_KPI" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Defines a KPI metric for the range of humidity values.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A metric measuring the humidity signal range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Statistic_KPI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a KPI metric for the range of humidity values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A metric measuring the humidity signal range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Metric&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Measured Item&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="s1">&#39;Statistic&#39;</span><span class="p">:</span> <span class="s1">&#39;Range&#39;</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Humidity_Upper_Bound" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Humidity_Upper_Bound</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Humidity_Upper_Bound" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Defines a humidity signal upper bound (humidity + 10).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A signal formula with a 10% offset above humidity.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Humidity_Upper_Bound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a humidity signal upper bound (humidity + 10).</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A signal formula with a 10% offset above humidity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Signal&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Humidity Upper Bound&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$relhumid + 10&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;$relhumid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Refrigerators" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Refrigerators</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Refrigerators" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Assigns Refrigerator components to this Section if they exist.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AssetGroup</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Refrigerators assigned to this section by the 'Component' column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Refrigerators</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assigns Refrigerator components to this Section if they exist.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AssetGroup: Refrigerators assigned to this section by the &#39;Component&#39; column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Refrigerator</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Temperature" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Temperature</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Temperature" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Retrieves temperature signals associated with the section.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filtered metadata for signals ending with 'Temperature'.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves temperature signals associated with the section.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (DataFrame): Signal metadata.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Filtered metadata for signals ending with &#39;Temperature&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Temperature&#39;</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Temperature_Rate_Of_Change" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Temperature_Rate_Of_Change</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Temperature_Rate_Of_Change" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Calculates the rate of change of low-pass filtered temperature.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A signal definition with derivative formula.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Temperature_Rate_Of_Change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the rate of change of low-pass filtered temperature.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A signal definition with derivative formula.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Signal&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$temp.lowPassFilter(150min, 3min, 333).derivative() * 3600 s/h&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;$temp&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Temperature</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Too_Hot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Too_Hot</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Too_Hot" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Generates a condition when temperature exceeds a threshold.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A condition definition based on a scalar threshold.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Too_Hot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a condition when temperature exceeds a threshold.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A condition definition based on a scalar threshold.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$temp.valueSearch(isGreaterThan($threshold))&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;$temp&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Temperature</span><span class="p">(),</span>
            <span class="s1">&#39;$threshold&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Hot_Threshold</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.hvac_template.Section.Too_Humid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Too_Humid</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span></code>

<a href="#itv_asset_tree.templates.hvac_template.Section.Too_Humid" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Generates a condition when humidity exceeds 70%.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A condition definition based on a humidity threshold.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/hvac_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">Too_Humid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a condition when humidity exceeds 70%.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A condition definition based on a humidity threshold.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="s1">&#39;Condition&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Too Humid&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula&#39;</span><span class="p">:</span> <span class="s1">&#39;$relhumid.valueSearch(isGreaterThan(70%))&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Formula Parameters&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;$relhumid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Humidity</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.templates.valve_template"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Compressor" class="doc doc-heading">
            <code>Compressor</code>


<a href="#itv_asset_tree.templates.valve_template.Compressor" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Compressor-related signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Compressor</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compressor-related signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Recycle_Flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_5&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressor_Work</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_20&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Facility" class="doc doc-heading">
            <code>Facility</code>


<a href="#itv_asset_tree.templates.valve_template.Facility" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Each Facility contains either Sections or direct components.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Facility</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Each Facility contains either Sections or direct components.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">DynamicStructure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📦 DEBUG: Received metadata for Facility:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">metadata</span><span class="p">[[</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Section&quot;</span><span class="p">,</span> <span class="s2">&quot;Component&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="c1"># Force fallback ONLY if all values are missing or empty strings</span>
        <span class="k">if</span> <span class="s1">&#39;Section&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Section&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="c1"># Build components directly under Facility</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Compressor</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Valve</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Feed</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Purge</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Reactor</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Separator</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Stripper</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
                <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">General</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">),</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Proceed with Section-level breakdown</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Section</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Section&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Feed" class="doc doc-heading">
            <code>Feed</code>


<a href="#itv_asset_tree.templates.valve_template.Feed" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Feed-related signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Feed</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Feed-related signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">A_Feed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_1&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">D_Feed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_2&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">E_Feed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_3&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Total_Feed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_4&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.General" class="doc doc-heading">
            <code>General</code>


<a href="#itv_asset_tree.templates.valve_template.General" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Miscellaneous or diagnostic signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">General</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Miscellaneous or diagnostic signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Fault_Number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;faultNumber&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Simulation_Run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;simulationRun&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Product" class="doc doc-heading">
            <code>Product</code>


<a href="#itv_asset_tree.templates.valve_template.Product" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Product composition signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Product</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Product composition signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_36&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_E</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_37&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_F</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_38&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_G</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_39&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_H</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_40&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Purge" class="doc doc-heading">
            <code>Purge</code>


<a href="#itv_asset_tree.templates.valve_template.Purge" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Purge-related signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Purge</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Purge-related signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Purge_Rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_10&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_A</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_31&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_B</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_32&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_C</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_33&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_34&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_E</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_35&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Reactor" class="doc doc-heading">
            <code>Reactor</code>


<a href="#itv_asset_tree.templates.valve_template.Reactor" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Reactor-related signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Reactor</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reactor-related signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Feed_Rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_6&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">CW_Outlet_Temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_21&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_8&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_9&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_7&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_A</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_23&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_B</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_24&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_C</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_25&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_D</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_26&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_E</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_27&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_F</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_28&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_G</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_29&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Comp_H</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_30&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Region" class="doc doc-heading">
            <code>Region</code>


<a href="#itv_asset_tree.templates.valve_template.Region" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Top-level Region asset.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Region</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Top-level Region asset.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Facilities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Facility</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Facility&#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_hierarchy_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;entry_point&quot;</span><span class="p">:</span> <span class="s2">&quot;Region&quot;</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;TEP Process Hierarchy using raw tag names&quot;</span>
        <span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_build_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specifies template-level build configuration flags.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Configuration flags used by the build system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;requires_component_column&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.templates.valve_template.Region.get_build_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_build_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.templates.valve_template.Region.get_build_config" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Specifies template-level build configuration flags.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration flags used by the build system.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_build_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specifies template-level build configuration flags.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Configuration flags used by the build system.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;requires_component_column&quot;</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Section" class="doc doc-heading">
            <code>Section</code>


<a href="#itv_asset_tree.templates.valve_template.Section" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Each Section contains multiple components.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Section</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Each Section contains multiple components.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Compressor</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Valves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Valve</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Feeds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Feed</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Purges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Purge</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Reactors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Reactor</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Separators</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Separator</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Strippers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Stripper</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Products</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">General</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_components</span><span class="p">(</span><span class="n">General</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;Component&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Separator" class="doc doc-heading">
            <code>Separator</code>


<a href="#itv_asset_tree.templates.valve_template.Separator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Separator-related signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Separator</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Separator-related signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_12&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_13&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Underflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_14&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">CW_Outlet_Temp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_22&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_11&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Stripper" class="doc doc-heading">
            <code>Stripper</code>


<a href="#itv_asset_tree.templates.valve_template.Stripper" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Stripper-related signals.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Stripper</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stripper-related signals.&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_15&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_16&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Underflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_17&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_18&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Steam_Flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmeas_19&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.templates.valve_template.Valve" class="doc doc-heading">
            <code>Valve</code>


<a href="#itv_asset_tree.templates.valve_template.Valve" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="seeq.spy.assets.Asset">Asset</span></code></p>


        <p>Valve-related signals (xmv_*).</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/templates/valve_template.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Valve</span><span class="p">(</span><span class="n">Asset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Valve-related signals (xmv_*).&quot;&quot;&quot;</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Compressor_Recycle_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_5&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Condenser_CW_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_11&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">D_Feed_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_1&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">E_Feed_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_2&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">A_Feed_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_3&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Total_Feed_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_4&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Purge_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_6&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Separator_Product_Flow_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_7&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Stripper_Product_Flow_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_8&#39;</span><span class="p">]</span>

    <span class="nd">@Asset</span><span class="o">.</span><span class="n">Attribute</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">Stripper_Steam_Valve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xmv_9&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.cleaning"></a>
    <div class="doc doc-contents first">

        <p>Utility functions for cleaning signal metadata and extracting component labels for tree building.</p>
<p>Includes:
- <code>extract_component_column</code>: Adds a 'Component' column based on regex patterns from config.
- <code>clean_signal_leaf_name</code>: Simplifies signal names to avoid recursive asset tree nesting.</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.cleaning.clean_signal_leaf_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clean_signal_leaf_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.cleaning.clean_signal_leaf_name" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Cleans a raw signal name for use as the Build Asset leaf.</p>
<p>This trims off known prefixes to avoid recursive tree nesting.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The raw signal name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A cleaned, simple name for display in the tree.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/cleaning.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clean_signal_leaf_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Cleans a raw signal name for use as the Build Asset leaf.</span>

<span class="sd">    This trims off known prefixes to avoid recursive tree nesting.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The raw signal name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: A cleaned, simple name for display in the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">name</span>
    <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;_&quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">else</span> <span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.cleaning.extract_component_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extract_component_column</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.cleaning.extract_component_column" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Extracts the component from the 'Name' column using component patterns from config.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Signal metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: DataFrame with a 'Component' column added.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/cleaning.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extract_component_column</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts the component from the &#39;Name&#39; column using component patterns from config.</span>

<span class="sd">    Args:</span>
<span class="sd">        df (pd.DataFrame): Signal metadata.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: DataFrame with a &#39;Component&#39; column added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">component_patterns</span> <span class="o">=</span> <span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;templates.components&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">component_patterns</span><span class="p">:</span>
        <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No component patterns found in config.yaml → skipping component extraction.&quot;</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">comp</span><span class="p">)</span> <span class="k">for</span> <span class="n">comp</span> <span class="ow">in</span> <span class="n">component_patterns</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">pattern</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Extracted Components using regex: </span><span class="si">{</span><span class="n">pattern</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📌 Unique Components Extracted:&quot;</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.csv_parser"></a>
    <div class="doc doc-contents first">

        <p>Provides the CSVHandler class for loading and validating CSV files used in the asset tree system.</p>
<p>This module logs file information and raises clear exceptions for file-related errors.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.csv_parser.CSVHandler" class="doc doc-heading">
            <code>CSVHandler</code>


<a href="#itv_asset_tree.utils.csv_parser.CSVHandler" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Handles CSV loading and validation.</p>
<p>This class provides methods to load and validate CSV files.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/csv_parser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CSVHandler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles CSV loading and validation.</span>

<span class="sd">    This class provides methods to load and validate CSV files.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">csv_path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the CSVHandler with a specified CSV file path.</span>

<span class="sd">        Args:</span>
<span class="sd">            csv_path (str): The path to the CSV file to be loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span> <span class="o">=</span> <span class="n">csv_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the CSV file into a pandas DataFrame.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame containing the CSV data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: If the specified CSV file does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ File &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ CSV loaded successfully.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📊 Columns in the file:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.csv_parser.CSVHandler.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">csv_path</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.csv_parser.CSVHandler.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the CSVHandler with a specified CSV file path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>csv_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the CSV file to be loaded.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/csv_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">csv_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the CSVHandler with a specified CSV file path.</span>

<span class="sd">    Args:</span>
<span class="sd">        csv_path (str): The path to the CSV file to be loaded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span> <span class="o">=</span> <span class="n">csv_path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.csv_parser.CSVHandler.load_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_csv</span><span class="p">()</span></code>

<a href="#itv_asset_tree.utils.csv_parser.CSVHandler.load_csv" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Loads the CSV file into a pandas DataFrame.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the CSV data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the specified CSV file does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/csv_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads the CSV file into a pandas DataFrame.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the CSV data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If the specified CSV file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ File &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_path</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;✅ CSV loaded successfully.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📊 Columns in the file:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.duplicate_resolution"></a>
    <div class="doc doc-contents first">

        <p>Defines a set of strategies for resolving duplicates in tabular datasets.</p>
<p>Includes base and concrete classes for different resolution approaches, including keeping the
first or last duplicate, removing all, or applying a custom user-defined rule.</p>









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.duplicate_resolution.DuplicateResolver" class="doc doc-heading">
            <code>DuplicateResolver</code>


<a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Resolves duplicates within a dataset based on user-selected strategies.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DuplicateResolver</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resolves duplicates within a dataset based on user-selected strategies.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strategy</span><span class="p">:</span> <span class="n">DuplicateStrategy</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the resolver with a specified duplicate resolution strategy.</span>

<span class="sd">        Args:</span>
<span class="sd">            strategy (DuplicateStrategy): The strategy to use for resolving duplicates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">strategy</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">resolve_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resolves duplicates within a single group of data.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (pd.DataFrame): The group of data containing potential duplicates.</span>
<span class="sd">            group_name (str): The name of the group being processed.</span>
<span class="sd">            key_column (str): The column used to determine duplicates.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame with resolved duplicates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">duplicates</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="n">group</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">key_column</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">duplicates</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ No duplicates found in group &#39;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">group</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Resolving duplicates for group: </span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="n">duplicates</span><span class="p">[[</span><span class="n">key_column</span><span class="p">]])</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;→ Group Name: </span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ Duplicates detected: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># print(f&quot;Resolved group size: {len(resolved_group)}&quot;)</span>

        <span class="n">resolved_group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resolved_group</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">strategy</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the resolver with a specified duplicate resolution strategy.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>strategy</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DuplicateStrategy (itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy)" href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy">DuplicateStrategy</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The strategy to use for resolving duplicates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strategy</span><span class="p">:</span> <span class="n">DuplicateStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the resolver with a specified duplicate resolution strategy.</span>

<span class="sd">    Args:</span>
<span class="sd">        strategy (DuplicateStrategy): The strategy to use for resolving duplicates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">strategy</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.resolve_group" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolve_group</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">key_column</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateResolver.resolve_group" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Resolves duplicates within a single group of data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="pd.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The group of data containing potential duplicates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>group_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the group being processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column used to determine duplicates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame with resolved duplicates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resolves duplicates within a single group of data.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (pd.DataFrame): The group of data containing potential duplicates.</span>
<span class="sd">        group_name (str): The name of the group being processed.</span>
<span class="sd">        key_column (str): The column used to determine duplicates.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame with resolved duplicates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">duplicates</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="n">group</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">key_column</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">duplicates</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ No duplicates found in group &#39;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">group</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Resolving duplicates for group: </span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="n">duplicates</span><span class="p">[[</span><span class="n">key_column</span><span class="p">]])</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;→ Group Name: </span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ Duplicates detected: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># print(f&quot;Resolved group size: {len(resolved_group)}&quot;)</span>

    <span class="n">resolved_group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">strategy</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resolved_group</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy" class="doc doc-heading">
            <code>DuplicateStrategy</code>


<a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Base class for duplicate resolution strategies.</p>
<p>Subclasses must implement the <code>resolve</code> method to specify how duplicates should be handled.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DuplicateStrategy</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for duplicate resolution strategies.</span>

<span class="sd">    Subclasses must implement the `resolve` method to specify how duplicates should be handled.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resolves duplicates within a given group.</span>

<span class="sd">        Args:</span>
<span class="sd">            group (pd.DataFrame): The group of data containing potential duplicates.</span>
<span class="sd">            key_column (str): The column used to determine duplicates.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame with duplicates resolved according to the strategy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy.resolve" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolve</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy.resolve" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Resolves duplicates within a given group.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code><span title="pd.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The group of data containing potential duplicates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column used to determine duplicates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame with duplicates resolved according to the strategy.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resolves duplicates within a given group.</span>

<span class="sd">    Args:</span>
<span class="sd">        group (pd.DataFrame): The group of data containing potential duplicates.</span>
<span class="sd">        key_column (str): The column used to determine duplicates.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame with duplicates resolved according to the strategy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.duplicate_resolution.KeepFirstStrategy" class="doc doc-heading">
            <code>KeepFirstStrategy</code>


<a href="#itv_asset_tree.utils.duplicate_resolution.KeepFirstStrategy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="DuplicateStrategy (itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy)" href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy">DuplicateStrategy</a></code></p>


        <p>Strategy that keeps the first occurrence of each duplicate and removes the rest.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KeepFirstStrategy</span><span class="p">(</span><span class="n">DuplicateStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Strategy that keeps the first occurrence of each duplicate and removes the rest.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">group</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">key_column</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.duplicate_resolution.KeepLastStrategy" class="doc doc-heading">
            <code>KeepLastStrategy</code>


<a href="#itv_asset_tree.utils.duplicate_resolution.KeepLastStrategy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="DuplicateStrategy (itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy)" href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy">DuplicateStrategy</a></code></p>


        <p>Strategy that keeps the last occurrence of each duplicate and removes the rest.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KeepLastStrategy</span><span class="p">(</span><span class="n">DuplicateStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Strategy that keeps the last occurrence of each duplicate and removes the rest.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">group</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">key_column</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.duplicate_resolution.RemoveAllStrategy" class="doc doc-heading">
            <code>RemoveAllStrategy</code>


<a href="#itv_asset_tree.utils.duplicate_resolution.RemoveAllStrategy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="DuplicateStrategy (itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy)" href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy">DuplicateStrategy</a></code></p>


        <p>Strategy that removes all occurrences of a duplicate.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RemoveAllStrategy</span><span class="p">(</span><span class="n">DuplicateStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Strategy that removes all occurrences of a duplicate.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">group</span><span class="p">[</span><span class="o">~</span><span class="n">group</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">key_column</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy" class="doc doc-heading">
            <code>UserSpecificStrategy</code>


<a href="#itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="DuplicateStrategy (itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy)" href="#itv_asset_tree.utils.duplicate_resolution.DuplicateStrategy">DuplicateStrategy</a></code></p>


        <p>Strategy that keeps user-specified rows while removing others.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UserSpecificStrategy</span><span class="p">(</span><span class="n">DuplicateStrategy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Strategy that keeps user-specified rows while removing others.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows_to_keep</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the strategy with a list of row indices to keep.</span>

<span class="sd">        Args:</span>
<span class="sd">            rows_to_keep (list[int]): List of indices indicating rows to keep.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows_to_keep</span> <span class="o">=</span> <span class="n">rows_to_keep</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">key_column</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">group</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">rows_to_keep</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">rows_to_keep</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.duplicate_resolution.UserSpecificStrategy.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the strategy with a list of row indices to keep.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rows_to_keep</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of indices indicating rows to keep.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/duplicate_resolution.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows_to_keep</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the strategy with a list of row indices to keep.</span>

<span class="sd">    Args:</span>
<span class="sd">        rows_to_keep (list[int]): List of indices indicating rows to keep.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rows_to_keep</span> <span class="o">=</span> <span class="n">rows_to_keep</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.error_handling"></a>
    <div class="doc doc-contents first">







    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.json_utils"></a>
    <div class="doc doc-contents first">







    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.logger"></a>
    <div class="doc doc-contents first">

        <p>Configures and initializes logging for the ITV Asset Tree application.</p>
<p>Provides helper functions for logging at various levels (info, warning, error, debug),
and sets up both console and file logging using a unified format.</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.logger.log_debug" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_debug</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.logger.log_debug" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Logs a debug message.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/logger.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">log_debug</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs a debug message.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.logger.log_error" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_error</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.logger.log_error" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Logs an error message.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/logger.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">log_error</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs an error message.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.logger.log_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_info</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.logger.log_info" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Logs an informational message.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/logger.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">log_info</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs an informational message.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.logger.log_warning" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.logger.log_warning" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Logs a warning message.</p>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/logger.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">log_warning</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs a warning message.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.lookup_builder"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="itv_asset_tree.utils.lookup_builder.LookupTableBuilder" class="doc doc-heading">
            <code>LookupTableBuilder</code>


<a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Builds lookup tables from cleaned data.</p>
<p>This class is responsible for creating lookup tables from a DataFrame and saving
them in a structured CSV format for later use.</p>







              <details class="quote">
                <summary>Source code in <code>itv_asset_tree/utils/lookup_builder.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LookupTableBuilder</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds lookup tables from cleaned data.</span>

<span class="sd">    This class is responsible for creating lookup tables from a DataFrame and saving</span>
<span class="sd">    them in a structured CSV format for later use.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_column</span><span class="p">,</span> <span class="n">key_column</span><span class="p">,</span> <span class="n">value_column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LookupTableBuilder with specified columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            group_column (str): The column used for grouping data.</span>
<span class="sd">            key_column (str): The column containing keys.</span>
<span class="sd">            value_column (str): The column containing values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group_column</span> <span class="o">=</span> <span class="n">group_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key_column</span> <span class="o">=</span> <span class="n">key_column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_column</span> <span class="o">=</span> <span class="n">value_column</span>

    <span class="c1"># Add a new method to the class to build lookup tables as a dictionary</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Builds lookup tables as a dictionary from a given DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (DataFrame): The DataFrame containing the data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A dictionary where keys are group names and values are lookup tables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lookup_tables</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_column</span><span class="p">):</span>
            <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">key_column</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">value_column</span><span class="p">])]</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">group</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()]</span>
            <span class="n">lookup_tables</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">table</span>
        <span class="k">return</span> <span class="n">lookup_tables</span>

    <span class="c1"># Add a new static method to the class to save the lookup table data to a CSV file</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">save_lookup_to_csv</span><span class="p">(</span><span class="n">lookup_data</span><span class="p">,</span> <span class="n">parent_paths</span><span class="p">,</span> <span class="n">output_file</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves lookup table data to a CSV file in the required format.</span>

<span class="sd">        Args:</span>
<span class="sd">            lookup_data (dict): Lookup table dictionary where keys are group names.</span>
<span class="sd">            parent_paths (dict): Dictionary mapping group names to Parent Paths.</span>
<span class="sd">            output_file (str): Path to save the output CSV file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Formula&quot;</span><span class="p">,</span> <span class="s2">&quot;Formula Parameters&quot;</span><span class="p">,</span> <span class="s2">&quot;Parent Path&quot;</span><span class="p">]</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">lookup_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Correct JSON dump, without additional escaping</span>
            <span class="n">formatted_formula</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="c1"># Print the formula *before* writing it</span>
            <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚨 DEBUG: About to save formula for &#39;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">formatted_formula</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">group_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_LookupString&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Formula&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">formatted_formula</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
                <span class="s2">&quot;Formula Parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Parent Path&quot;</span><span class="p">:</span> <span class="n">parent_paths</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">group_name</span><span class="p">,</span> <span class="s2">&quot;Root Asset&quot;</span><span class="p">),</span>
            <span class="p">})</span>

        <span class="c1"># Write CSV</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">fields</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_MINIMAL</span><span class="p">)</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Lookup CSV file &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39; created successfully.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.lookup_builder.LookupTableBuilder.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">group_column</span><span class="p">,</span> <span class="n">key_column</span><span class="p">,</span> <span class="n">value_column</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes the LookupTableBuilder with specified columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column used for grouping data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column containing keys.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value_column</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column containing values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/lookup_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_column</span><span class="p">,</span> <span class="n">key_column</span><span class="p">,</span> <span class="n">value_column</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the LookupTableBuilder with specified columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        group_column (str): The column used for grouping data.</span>
<span class="sd">        key_column (str): The column containing keys.</span>
<span class="sd">        value_column (str): The column containing values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">group_column</span> <span class="o">=</span> <span class="n">group_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">key_column</span> <span class="o">=</span> <span class="n">key_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">value_column</span> <span class="o">=</span> <span class="n">value_column</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.lookup_builder.LookupTableBuilder.build" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.build" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Builds lookup tables as a dictionary from a given DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DataFrame containing the data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary where keys are group names and values are lookup tables.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/lookup_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds lookup tables as a dictionary from a given DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (DataFrame): The DataFrame containing the data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary where keys are group names and values are lookup tables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lookup_tables</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_column</span><span class="p">):</span>
        <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">key_column</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">value_column</span><span class="p">])]</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">group</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()]</span>
        <span class="n">lookup_tables</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">table</span>
    <span class="k">return</span> <span class="n">lookup_tables</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="itv_asset_tree.utils.lookup_builder.LookupTableBuilder.save_lookup_to_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_lookup_to_csv</span><span class="p">(</span><span class="n">lookup_data</span><span class="p">,</span> <span class="n">parent_paths</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#itv_asset_tree.utils.lookup_builder.LookupTableBuilder.save_lookup_to_csv" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Saves lookup table data to a CSV file in the required format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>lookup_data</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lookup table dictionary where keys are group names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>parent_paths</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary mapping group names to Parent Paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to save the output CSV file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/lookup_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">save_lookup_to_csv</span><span class="p">(</span><span class="n">lookup_data</span><span class="p">,</span> <span class="n">parent_paths</span><span class="p">,</span> <span class="n">output_file</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Saves lookup table data to a CSV file in the required format.</span>

<span class="sd">    Args:</span>
<span class="sd">        lookup_data (dict): Lookup table dictionary where keys are group names.</span>
<span class="sd">        parent_paths (dict): Dictionary mapping group names to Parent Paths.</span>
<span class="sd">        output_file (str): Path to save the output CSV file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Formula&quot;</span><span class="p">,</span> <span class="s2">&quot;Formula Parameters&quot;</span><span class="p">,</span> <span class="s2">&quot;Parent Path&quot;</span><span class="p">]</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">lookup_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Correct JSON dump, without additional escaping</span>
        <span class="n">formatted_formula</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Print the formula *before* writing it</span>
        <span class="n">log_debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🚨 DEBUG: About to save formula for &#39;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">formatted_formula</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">group_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_LookupString&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Formula&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">formatted_formula</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
            <span class="s2">&quot;Formula Parameters&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Parent Path&quot;</span><span class="p">:</span> <span class="n">parent_paths</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">group_name</span><span class="p">,</span> <span class="s2">&quot;Root Asset&quot;</span><span class="p">),</span>
        <span class="p">})</span>

    <span class="c1"># Write CSV</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">fields</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_MINIMAL</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>

    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Lookup CSV file &#39;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39; created successfully.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.metadata_handler"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.metadata_handler.load_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_metadata</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.metadata_handler.load_metadata" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Loads metadata from a file using pickle deserialization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the metadata file to be loaded.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>any</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The deserialized metadata object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/metadata_handler.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_metadata</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads metadata from a file using pickle deserialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path (str): The path to the metadata file to be loaded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        any: The deserialized metadata object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Metadata loaded from </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">metadata</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.metadata_handler.save_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.metadata_handler.save_metadata" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Saves metadata to a file using pickle serialization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="any">any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata object to be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path where the metadata file will be stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/metadata_handler.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Saves metadata to a file using pickle serialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata (any): The metadata object to be saved.</span>
<span class="sd">        file_path (str): The path where the metadata file will be stored.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Metadata saved to </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.retry"></a>
    <div class="doc doc-contents first">







    </div>

</div>

<div class="doc doc-object doc-module">



<a id="itv_asset_tree.utils.template_builder"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="itv_asset_tree.utils.template_builder.build_template" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_template</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">template_entry</span><span class="p">)</span></code>

<a href="#itv_asset_tree.utils.template_builder.build_template" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Build an HVAC-style asset tree using Region &gt;&gt; Facility &gt;&gt; Section &gt;&gt; Component hierarchy.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>request</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BuildRequest (itv_asset_tree.api.models.BuildRequest)" href="#itv_asset_tree.api.models.BuildRequest">BuildRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fully validated build request.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>template_entry</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Entry point class from the asset model template.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Build results pushed to Seeq.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>itv_asset_tree/utils/template_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_template</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">BuildRequest</span><span class="p">,</span> <span class="n">template_entry</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build an HVAC-style asset tree using Region &gt;&gt; Facility &gt;&gt; Section &gt;&gt; Component hierarchy.</span>

<span class="sd">    Args:</span>
<span class="sd">        request (BuildRequest): Fully validated build request.</span>
<span class="sd">        template_entry: Entry point class from the asset model template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Build results pushed to Seeq.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Received request: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">request_type</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">type</span> <span class="ow">or</span> <span class="s2">&quot;StoredSignal&quot;</span>
    <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧾 Raw request.section_name_regex: </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">section_name_regex</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Step 1: Signal search</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📡 Searching signals via asset tree path: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">search_results</span> <span class="o">=</span> <span class="n">SeeqSpyAdapter</span><span class="o">.</span><span class="n">search_in_tree</span><span class="p">(</span>
                <span class="n">search_query</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">search_query</span><span class="p">,</span>
                <span class="n">tree_path</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">path</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📡 Searching signals via raw datasource: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">datasource_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">search_results</span> <span class="o">=</span> <span class="n">SeeqSpyAdapter</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
                <span class="n">request</span><span class="o">.</span><span class="n">search_query</span><span class="p">,</span> <span class="n">request_type</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">datasource_name</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">search_results</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;🚨 No matching signals found in Seeq!&quot;</span>
            <span class="p">}</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧮 Total signals found: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Step 2: Core hierarchy</span>
        <span class="n">region_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">region_name</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">build_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">facility_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">facility_name</span> <span class="ow">or</span> <span class="s2">&quot;Facility #1&quot;</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Region&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">region_name</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Facility&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">facility_name</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">region_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;🚨 Region name is missing!&quot;</span>
            <span class="p">}</span>

        <span class="c1"># Step 3: Section extraction with human-friendly regex handling</span>
        <span class="n">raw_section_regex</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">section_name_regex</span>
        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📨 Raw section_name_regex input: </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">raw_section_regex</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Normalize and validate regex string</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># If user gave double-backslashes like &quot;Area (\\w).*&quot;, unescape it</span>
            <span class="k">if</span> <span class="n">raw_section_regex</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">raw_section_regex</span><span class="p">:</span>
                <span class="n">section_regex</span> <span class="o">=</span> <span class="n">raw_section_regex</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;unicode_escape&#39;</span><span class="p">)</span>
                <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🧼 Unescaped regex to: </span><span class="si">{</span><span class="n">section_regex</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">section_regex</span> <span class="o">=</span> <span class="n">raw_section_regex</span> <span class="ow">or</span> <span class="sa">r</span><span class="s2">&quot;Area (\w).*&quot;</span>

            <span class="c1"># Try compiling it to confirm it&#39;s valid</span>
            <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">section_regex</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📐 Using final section_name_regex: </span><span class="si">{</span><span class="n">section_regex</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">section_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;Area (\w).*&quot;</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ Invalid regex supplied: </span><span class="si">{</span><span class="n">raw_section_regex</span><span class="si">}</span><span class="s2"> → Falling back to: </span><span class="si">{</span><span class="n">section_regex</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Apply to data</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Section&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">section_regex</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Section&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Section &quot;</span> <span class="o">+</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Section&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;General&quot;</span><span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;📌 Unique Sections Found:&quot;</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Section&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>

        <span class="c1"># Step 4: Extract asset name (after underscore)</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Asset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="s2">&quot;_&quot;</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="n">x</span>
        <span class="p">)</span>

        <span class="c1"># Step 5: ID and Type enforcement</span>
        <span class="k">if</span> <span class="s2">&quot;ID&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">search_results</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
                <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;🚨 Missing &#39;ID&#39; column for Seeq linkage.&quot;</span>
            <span class="p">}</span>

        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">request_type</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Build Path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Build Asset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">region_name</span>  <span class="c1"># Placeholder</span>

        <span class="c1"># Step 6: Component extraction</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">components_list</span> <span class="o">=</span> <span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;templates.components&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ Could not load components from config: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">components_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">components_list</span><span class="p">:</span>
            <span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">components_list</span><span class="p">])</span>
            <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">pattern</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Extracted Components using regex: </span><span class="si">{</span><span class="n">pattern</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">log_info</span><span class="p">(</span><span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log_warning</span><span class="p">(</span><span class="s2">&quot;⚠️ No components found in config.yaml → using fallback &#39;Misc&#39;&quot;</span><span class="p">)</span>
            <span class="n">search_results</span><span class="p">[</span><span class="s2">&quot;Component&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Misc&quot;</span>

        <span class="n">log_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Resolved template entry: </span><span class="si">{</span><span class="n">template_entry</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> (from template: </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="c1"># Step 7: Build + Push</span>
        <span class="n">build_df</span> <span class="o">=</span> <span class="n">SeeqSpyAdapter</span><span class="o">.</span><span class="n">build_and_push</span><span class="p">(</span>
            <span class="n">model_class</span><span class="o">=</span><span class="n">template_entry</span><span class="p">,</span>
            <span class="n">metadata_df</span><span class="o">=</span><span class="n">search_results</span><span class="p">,</span>
            <span class="n">workbook_name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workbook_name</span>
        <span class="p">)</span>

        <span class="n">log_info</span><span class="p">(</span><span class="s2">&quot;🧼 Preview of build DataFrame:&quot;</span><span class="p">)</span>
        <span class="n">log_info</span><span class="p">(</span><span class="n">build_df</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">build_df</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed HVAC-style build: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s2">&quot;statusMessage&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;❌ HVAC-style build failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>